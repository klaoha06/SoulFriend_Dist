"use strict";angular.module("puanJaiApp",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","timeAgo","textAngular","ngTagsInput","angular-jqcloud","headroom"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(a){d.authenticate&&!a&&(alert("กรุณาเข้าระบบก่อนนะครับ :)"),b.path("/login"))})}),a.$on("$routeChangeSuccess",function(){$window.scrollTo(0,0)})}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0}).state("profile",{url:"/profile",templateUrl:"app/account/profile/profile.html",controller:"profileCtrl"})}]),angular.module("puanJaiApp").controller("LoginCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.login=function(c){a.submitted=!0,c.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){d.history.back()})["catch"](function(b){a.errors.other=b.message})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("puanJaiApp").controller("profileCtrl",["$scope","$http","socket","$stateParams","Auth","$cookieStore","User",function(a,b,c,d,e,f,g){f.get("token")&&(a.currentUser=g.get()),a.userId=localStorage.getItem("userId"),b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b}),a.onSelectCategory=function(c){switch(c){case"myQuestions":b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b});break;case"myArticles":b.get("/api/articles",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myArticles=b});break;case"myAnswersInQuestions":b.get("/api/questions/myanswers",{params:{userId:a.userId}}).success(function(b){a.myAnswersInQuestions=b});break;default:b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b})}}}]),angular.module("puanJaiApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("puanJaiApp").controller("SignupCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.register=function(e){a.submitted=!0,e.$valid&&b.createUser({name:{first:a.user.firstname,last:a.user.lastname},email:a.user.email,password:a.user.password,reason:a.user.reason,username:a.user.username}).then(function(a){console.log(a),c.path("/"),d.location.reload()})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){e[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("puanJaiApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("puanJaiApp").controller("MainArtCtrl",["$scope","$http","socket","$location","$window",function(a,b,c,d){a.articles||b.get("/api/articles").success(function(b){a.articles=b,c.syncUpdates("article",a.articles)}),a.goToArticle=function(){d.path("/articles/"+event.currentTarget.id)},a.slides=[{image:"http://lorempixel.com/1900/300/animals",text:"hi"},{image:"http://lorempixel.com/1600/300/animals",text:"yo"},{image:"http://lorempixel.com/1400/300/animals",text:"bye"},{image:"http://lorempixel.com/1000/300/animals",text:"love u"}],a.$on("$destroy",function(){c.unsyncUpdates("article")})}]),angular.module("puanJaiApp").directive("article",function(){return function(a,b,c){c.id;b.css({"background-image":"url("+c.article+")","background-size":"cover"}),b.bind("mouseover",function(){b.css({border:"9px solid white"}),b.css("cursor","pointer")}),b.bind("mouseleave",function(){b.css({border:"0"})})}}),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("mainArticles",{url:"/articles",templateUrl:"app/article/mainArticles/mainArticles.html",controller:"MainArtCtrl"})}]),angular.module("puanJaiApp").controller("articleCtrl",["$scope","$http","socket","$stateParams","Auth","$location","$window",function(a,b,c,d,e,f,g){a.windowHeight=g.innerHeight-100,b.get("/api/articles/"+d.id).success(function(b){a.article=b,c.syncUpdates("article",a.article,function(b,c,d){a.article=d})}),b.get("/api/articles").success(function(b){a.articles=b}),a.addComment=function(){if(!("undefined"==typeof a.newComment||a.newComment.length<=5))if(e.isLoggedIn()){var c=e.getCurrentUser(),g={content:a.newComment,user:{username:c.username,name:c.name,_id:c._id,coverimg:c.coverimg},created:Date.now()};a.article.comments.push(g),b.post("/api/articles/"+d.id+"/comments",g),a.newComment=""}else f.path("/login"),alert("กรุณาเข้าสู้ระบบก่อนเข้าร่วมการสนทนา")},a.$on("$destroy",function(){c.unsyncUpdates("article")})}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("singleArticle",{url:"/articles/:id",templateUrl:"app/article/singleArticle/singleArticle.html",controller:"articleCtrl"})}]),angular.module("puanJaiApp").controller("askCtrl",["$scope","$http","socket","$stateParams","Auth","$location","$cookieStore","$filter",function(a,b,c,d,e,f,g,h){var i=h("orderBy"),j=e.getCurrentUser();a.textEditorInput=localStorage.getItem("questionContent"),a.oldContent=localStorage.getItem("questionContent"),a.searchResults,a.searchInput=g.get("questionTitle"),a.selectedTopic=g.get("topic"),a.tags=g.get("tags"),a.alerts=[],a.topics=[{title:"ความรัก",link:"/topics/ความรัก",icon:"fa-heart",active:!1},{title:"ครอบครัว",link:"/topics/ครอบครัว",icon:"fa-home",active:!1},{title:"เพื่อน",link:"/topics/เพื่อน",icon:"fa-users",active:!1},{title:"การงาน",link:"/topics/การงาน",icon:"fa-briefcase",active:!1},{title:"ธุรกิจ",link:"/topics/ธุรกิจ",icon:"fa-building-o",active:!1},{title:"ชีวิต",link:"/topics/ชีวิต",icon:"fa-street-view",active:!1},{title:"การปัฎิบัติธรรม",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin",active:!1},{title:"อื่นๆ",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin",active:!1}],a.$watch("searchInput",function(c){c&&(g.put("questionTitle",c),b.get("/api/questions/search",{params:{userInput:c}}).success(function(b){a.searchResults=i(b.hits.hits,"_score",!0)}))}),a.goToQuestion=function(a){f.path("/questions/"+a)},a.selectTopic=function(b){b===a.selectedTopic?a.selectedTopic=null:(a.selectedTopic=b,g.put("topic",a.selectedTopic)),angular.forEach(a.topics,function(a){a.active=a.title===b?!0:!1})},a.$watch("textEditorInput",function(a){a&&localStorage.setItem("questionContent",a)}),a.searchTags=function(c){return b.get("/api/tags/search",{params:{userInput:c}}).success(function(b){a.searchedTags=b})},a.storeTagInCookie=function(){var b=_.last(a.tags),c=_.first(a.searchedTags);"undefined"!=typeof c&&b.name===c.name&&_.merge(b,c),g.put("tags",a.tags)},a.closeAlert=function(b){a.alerts.splice(b,1)},a.onQuestionFormSubmit=function(){function c(a){return String(a).replace(/<[^>]+>/gm,"")}if(e.isLoggedIn()){a.alerts=[];var d=c(a.textEditorInput);if("undefined"==typeof a.searchInput&&a.alerts.push({type:"danger",msg:"กรุณาเลือกชื่อของคําถามด้วยครับ"}),a.searchInput.length>150&&a.alerts.push({type:"danger",msg:"กรุณาใช่ไม่เกิน 150 อักขระในการถามคําถาม"}),"undefined"==typeof a.selectedTopic&&a.alerts.push({type:"danger",msg:"กรุณาเลือกหัวข้อของคําถามด้วยครับ"}),"undefined"==typeof a.textEditorInput&&a.alerts.push({type:"danger",msg:"กรุณาใส่เนื้อความของคําถามด้วยครับ"}),d.length>9e3&&a.alerts.push({type:"danger",msg:"กรุณาใช่ไม่เกิน 9000 อักขระในการถามคําถาม"}),a.tags.length<=0&&a.alerts.push({type:"danger",msg:"กรุณาใส่อย่างน้อยหนึ่งแท็กครับ"}),0!==a.alerts.length)return;var h=[];h=_.partition(a.tags,function(a){return _.has(a,"_id")?void 0:a});var i={ownerId:j._id,owner:{username:j.username,role:j.role,coverimg:j.coverimg},name:a.searchInput,body:a.textEditorInput,tags:h[1],topic:a.selectedTopic};b.post("/api/questions",{newQuestion:i,newTags:h[0]}).success(function(b){a.textEditorInput="",g.remove("tags"),g.remove("topic"),g.remove("content"),g.remove("questionTitle"),localStorage.removeItem("questionContent"),f.path(/questions/+b._id)})}else f.path("/login"),alert("กรุณาเข้าสู้ระบบก่อนเข้าร่วมการสนทนา")}}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("ask",{url:"/ask",templateUrl:"app/ask/ask.html",controller:"askCtrl"})}]),angular.module("puanJaiApp").controller("LandingCtrl",["$scope","$http","socket","$state","Auth","$window",function(a,b,c,d,e,f){a.myInterval=5e3;var g=a.slides=[];a.addSlide=function(){var a=1360+g.length+1;g.push({image:"http://placekitten.com/"+a+"/500",lead:["ชุมชนเพื่อช่วยเหลือจิตใจของกันและกัน","สร้างด้วยใจและความรักต่อส่วนรวม","ศูนย์กลางในการเผยแผ่ปัญญาสู่ความสุข"][g.length%3],text:["มารู้จักเรา","มารู้จักกับผู้ริเริ่ม","สมัครเป็นนักเขียนเพื่อนใจ"][g.length%3]})};for(var h=0;3>h;h++)a.addSlide();a.loginOauth=function(a){f.location.href="/auth/"+a}}]),angular.module("puanJaiApp").directive("slickSlider",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){a(function(){$(c).slick(b.$eval(d.slickSlider))})}}}]),angular.module("puanJaiApp").controller("MainCtrl",["$scope","$http","socket","Auth","$location","$filter","$interval",function(a,b,c,d,e,f){var g=d.getCurrentUser(),h=g._id,i=f("orderBy");a.isCollapsed=!0,a.userInput;var j=j||"noAnswer",k=k||["created"],l=l||!1;a.selectedTopic,a.popTags=[]||a.popTags,a.skip=0,a.slides=[{image:"http://lorempixel.com/1900/300/animals",text:"hi"},{image:"http://lorempixel.com/1600/300/animals",text:"yo"},{image:"http://lorempixel.com/1400/300/animals",text:"bye"},{image:"http://lorempixel.com/1000/300/animals",text:"love u"}],a.topics=[{title:"การปัฎิบัติธรรม",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin",active:!1},{title:"สุขภาพ",link:"/topics/สุขภาพ",icon:"fa-pagelines",active:!1},{title:"ชีวิต",link:"/topics/ชีวิต",icon:"fa-street-view",active:!1},{title:"ความรัก",link:"/topics/ความรัก",icon:"fa-heart",active:!1},{title:"ครอบครัว",link:"/topics/ครอบครัว",icon:"fa-home",active:!1},{title:"เพื่อน",link:"/topics/เพื่อน",icon:"fa-users",active:!1},{title:"การงาน",link:"/topics/การงาน",icon:"fa-briefcase",active:!1},{title:"ธุรกิจ",link:"/topics/ธุรกิจ",icon:"fa-building-o",active:!1}],a.updateTopic=function(b){a.selectedTopic=null===b?null:b.title,a.getQuestions(null,null,null,a.selectedTopic),angular.forEach(a.topics,function(a){a.active=a.title===b.title?!a.active:!1})},a.selectTopic=function(b){a.selectedTopic=b===a.selectedTopic?null:b,a.getQuestions(null,null,null,a.selectedTopic),angular.forEach(a.topics,function(a){a.active=a.title===b?!a.active:!1})},a.tabs=[{title:"ยังไม่ได้ความช่วยเหลือ",category:"noAnswer",orderBy:["-answers_count, created"],reverse:!1},{title:"ได้ความสําคํญมากสุด",category:"votes_count",orderBy:"votes_count",reverse:!0},{title:"ล่าสุด",category:"created",orderBy:"created",reverse:!0},{title:"ยอดนิยม",category:"views",orderBy:"views",reverse:!0},{title:"ได้กําลังใจมากสุด",category:"jais",orderBy:"jais_count",reverse:!0}],a.resetSkip=function(){a.skip=0},a.getQuestions=function(d,e,f,g){c.unsyncUpdates("question"),j=d||j,k=e||k,l=f||l,a.selectedTopic=g||a.selectedTopic,b.get("/api/questions",{params:{category:j,filterBy:{topic:a.selectedTopic},skip:a.skip}}).success(function(b){a.questions=a.skip>0?a.questions.concat(b):b,c.syncUpdates("question",a.questions,function(b,c,d){a.questions=i(d,e,f)})})},a.getQuestions(j,k,l,a.selectedTopic),a.goToQuestion=function(a,b){e.path("/questions/"+b._id)},a.searchQuestions=function(c){return a.userInput=c,b.get("/api/questions/search",{params:{userInput:c}}).then(function(a){return a.data.hits.hits.map(function(a){return a})})},a.setCurrentSlide=function(){var b=document.getElementsByClassName("carousel-indicators")[0].children;if(5===b.length)for(var c=0;c<a.sampleusers.length;c++){console.log(a.sampleusers);var d="background-size: cover; background-image: url('"+a.sampleusers[c].coverimg+"');";b[c].style.cssText=d}},a.upVote=function(c){if(d.isLoggedIn()){var f=_.findIndex(a.questions,{_id:c}),g=a.questions[f];if(_.include(g.upvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.questions[f].votes_count++,a.questions[f].upvotes.push(h),b.post("/api/questions/"+c+"/upvote",{_questionId:c,userId:h})}else e.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.downVote=function(c){if(d.isLoggedIn()){var f=_.findIndex(a.questions,{_id:c}),g=a.questions[f];if(_.include(g.downvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.questions[f].votes_count--,a.questions[f].downvotes.push(h),b.post("/api/questions/"+c+"/downvote",{_questionId:c,userId:h})}else e.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.addJai=function(c){if(d.isLoggedIn()){var f=_.findIndex(a.questions,{_id:c}),g=a.questions[f];if(_.include(g.jais,h))return void alert("คุณได้ให้กําลังใจแล้ว");a.questions[f].jais.push(h),a.questions[f].jais_count++,b.post("/api/questions/"+c+"/addjai",{_questionId:c,userId:h})}else e.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},b.get("/api/tags",{orderBy:"popular_count"}).success(function(b){angular.forEach(b,function(b){a.popTags.push({text:b.name,weight:b.popular_count,link:"tags/"+b._id})})}),a.getMoreQuestions=function(){a.skip++,a.getQuestions()},a.$on("$destroy",function(){c.unsyncUpdates("question")})}]),angular.module("puanJaiApp").filter("thousandSuffix",function(){return function(a){if(void 0!==a){var b=Math.abs(a);return b>=Math.pow(10,12)?a=(a/Math.pow(10,12)).toFixed(1)+"t":b<Math.pow(10,12)&&b>=Math.pow(10,9)?a=(a/Math.pow(10,9)).toFixed(1)+"b":b<Math.pow(10,9)&&b>=Math.pow(10,6)?a=(a/Math.pow(10,6)).toFixed(1)+"m":b<Math.pow(10,6)&&b>=Math.pow(10,3)&&(a=(a/Math.pow(10,3)).toFixed(1)+"k"),a}}}),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("index",{url:"/",templateUrl:function(){return document.cookie.match("token")?"app/main/main.html":"app/landing/landing.html"}}).state("main",{url:"/main",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("puanJaiApp").controller("questionCtrl",["$scope","$http","socket","$stateParams","Auth","$location",function(a,b,c,d,e,f){a.textEditorInput;var g=e.getCurrentUser(),h=localStorage.getItem("userId");b.get("/api/questions/"+d.id).success(function(b){a.question=b,g&&(a.userAnsIndex=_.findIndex(a.question.answers,{user_id:h}),a.userAns=a.question.answers[a.userAnsIndex]),c.syncUpdates("question",a.question,function(b,c,d){_.merge(a.question,d)})}),a.upVote=function(c){if(e.isLoggedIn()){if(_.include(a.question.upvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.question.votes_count++,a.question.upvotes.push(h),b.post("/api/questions/"+c+"/upvote",{_questionId:c,userId:h})}else f.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.downVote=function(c){if(e.isLoggedIn()){if(_.include(a.question.downvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.question.votes_count--,a.question.downvotes.push(h),b.post("/api/questions/"+c+"/downvote",{_questionId:c,userId:h})}else f.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.addJai=function(c){if(e.isLoggedIn()){if(_.include(a.question.jais,h))return void alert("คุณได้ให้กําลังใจแล้ว");a.question.jais.push(h),a.question.jais_count++,b.post("/api/questions/"+c+"/addjai",{_questionId:c,userId:h})}else f.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.upVoteAns=function(c){var g=_.findIndex(a.question.answers,{user_id:c}),i=a.question.answers[g];if(e.isLoggedIn()){if(_.include(i.upvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.question.answers[g].votes_count++,a.question.answers[g].upvotes.push(h),b.patch("/api/questions/"+d.id,a.question).success(function(a){console.log(a)})}else f.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.downVoteAns=function(c){var g=_.findIndex(a.question.answers,{user_id:c}),i=a.question.answers[g];if(e.isLoggedIn()){if(_.include(i.downvotes,h))return void alert("คุณได้ให้โหวตแล้ว");a.question.answers[g].votes_count--,a.question.answers[g].downvotes.push(h),b.patch("/api/questions/"+d.id,a.question).success(function(a){console.log(a)})}else f.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )")},a.onSubmit=function(){function c(a){return String(a).replace(/<[^>]+>/gm,"")}if(e.isLoggedIn()){var i=c(a.textEditorInput);if(i.length<40||i.length>6e3)return void alert("คําตอบต้องมียาวระหว่าง 40 ถึง 6000 อักขระ");var j={content:a.textEditorInput,username:g.username,name:g.name,user_id:h,coverimg:g.coverimg,comments:[],votes_count:0,upvotes:[],downvotes:[],goodAns:!1,created:Date.now()};a.question.answers.push(j),a.question.answers_count++,b.put("/api/questions/"+d.id+"/newanswer",j).success(function(){a.userAnsIndex=_.findIndex(a.question.answers,{user_id:h}),a.userAns=a.question.answers[a.userAnsIndex]}),a.textEditorInput=""}else f.path("/login"),alert("กรุณาเข้าสู้ระบบก่อนเข้าร่วมการสนทนา")},a.$on("$destroy",function(){c.unsyncUpdates("question")})}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("question",{url:"/questions/:id",templateUrl:"app/question/question.html",controller:"questionCtrl"})}]),angular.module("puanJaiApp").controller("shareCtrl",["$scope","$http","Auth","$location","$cookieStore","$filter",function(a,b,c,d,e,f){function g(a){return String(a).replace(/<[^>]+>/gm,"")}var h=f("orderBy");a.user=c.getCurrentUser(),a.textEditorInput=localStorage.getItem("articleContent"),a.oldContent=localStorage.getItem("articleContent"),a.searchResults,a.nameInput=""||e.get("articleTitle"),a.importanceInput=""||e.get("articleImportance"),a.conclusionInput=""||e.get("articleConclusion"),a.selectedTopic=e.get("articleTopic"),a.tags=e.get("articleTags"),a.alerts=[],a.now=Date.now(),a.writingRules=[{title:"แสดงด้วยความรักและเมตตา"},{title:"แสดงด้วยถ้อยคำที่สุภาพ"},{title:"ไม่ให้ความรู้โดยเห็นแก่ผลตอบแทนใดๆทั่งทางตรงและทางอ้อม"},{title:"ไม่ให้ความรู้ด้วยความโอ้อวด"},{title:"มีประโยช์นทั่งต่อตนเองและผู้อื่น"}],a.topics=[{title:"ความรัก",link:"/topics/ความรัก",icon:"fa-heart",active:!1},{title:"ครอบครัว",link:"/topics/ครอบครัว",icon:"fa-home",active:!1},{title:"เพื่อน",link:"/topics/เพื่อน",icon:"fa-users",active:!1},{title:"การงาน",link:"/topics/การงาน",icon:"fa-briefcase",active:!1},{title:"ธุรกิจ",link:"/topics/ธุรกิจ",icon:"fa-building-o",active:!1},{title:"ชีวิต",link:"/topics/ชีวิต",icon:"fa-street-view",active:!1},{title:"การปัฎิบัติธรรม",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin",active:!1},{title:"อื่นๆ",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin",active:!1}],a.hide=[!1,!0,!0,!0,!0,!0],a.$watch("nameInput",function(c){c&&(e.put("articleTitle",c),b.get("/api/articles/search",{params:{userInput:c}}).success(function(b){a.searchResults=h(b.hits.hits,"_score",!0)}))}),a.goToArticle=function(a){d.path("/articles/"+a)},a.showNext=function(){for(var b=0;b<a.hide.length;b++)if(a.hide[b]===!1)return a.hide[b]=!0,void(a.hide[b+1]=!1)},a.showPrevious=function(){for(var b=0;b<a.hide.length;b++)if(a.hide[b]===!1)return a.hide[b]=!0,void(a.hide[b-1]=!1)},a.$watch("importanceInput",function(a){a&&e.put("articleImportance",a)}),a.$watch("conclusionInput",function(a){a&&e.put("articleConclusion",a)}),a.selectTopic=function(b){b===a.selectedTopic?a.selectedTopic=null:(a.selectedTopic=b,e.put("articleTopic",a.selectedTopic)),angular.forEach(a.topics,function(a){a.active=a.title===b?!0:!1})},a.$watch("textEditorInput",function(a){a&&localStorage.setItem("articleContent",a)}),a.searchTags=function(c){return b.get("/api/tags/search",{params:{userInput:c}}).success(function(b){a.searchedTags=b})},a.storeTagInCookie=function(){var b=_.last(a.tags),c=_.first(a.searchedTags);"undefined"!=typeof c&&b.name===c.name&&_.merge(b,c),e.put("articleTags",a.tags)},a.closeAlert=function(b){a.alerts.splice(b,1)},a.tooglePreview=function(){""===a.articlePreview&&"show"===a.articleForm?(a.articlePreview="animated fadeIn",a.articleForm="hide",a.preview=!0):"hide"!==a.articlePreview&&"hide"===a.articleForm&&(a.articlePreview="",a.articleForm="show",a.preview=!1)},a.onSubmit=function(){if(c.isLoggedIn()){a.alerts=[];var f=g(a.textEditorInput);if(a.nameInput?(a.nameInput.length<3||a.nameInput.length>150)&&a.alerts.push({type:"danger",msg:"ชื่อของบทความควรมีความยาวระหว่าง 10 ถึง 150 อักขระ"}):a.alerts.push({type:"danger",msg:"กรุณาใส่ชื่อของบทความด้วยครับ"}),a.importanceInput?(a.importanceInput.length<=10||a.importanceInput.length>150)&&a.alerts.push({type:"danger",msg:"ความสําคัญของบทความควรมีความยาวระหว่าง 10 ถึง 150 อักขระ"}):a.alerts.push({type:"danger",msg:"กรุณาใส่ความสําคัญของบทความด้วยครับ"}),null===a.selectedTopic&&a.alerts.push({type:"danger",msg:"กรุณาเลือกหัวข้อของคําถามด้วยครับ"}),(f.length<=600||f.length>9e3)&&a.alerts.push({type:"danger",msg:"เนื้อความควรมีความยาวระหว่าง 600 ถึง 9000 อักขระ"}),a.conclusionInput?(a.conclusionInput.length>150||a.conclusionInput.length<10)&&a.alerts.push({type:"danger",msg:"กรุณาใช่ไม่เกิน 150 อักขระในเขียนบทสรุป"}):a.alerts.push({type:"danger",msg:"กรุณาให้บทสรุปของบทความด้วยครับ"}),a.tags.length<=0&&a.alerts.push({type:"danger",msg:"กรุณาใส่อย่างน้อยหนึ่งแท็กครับ"}),0!==a.alerts.length)return;var h=[];h=_.partition(a.tags,function(a){return _.has(a,"_id")?void 0:a});var i={body:a.textEditorInput,importance:a.importanceInput,name:a.nameInput,owner:{username:a.user.username,summary:a.user.summary,role:a.user.role,coverimg:a.user.coverimg},ownerId:a.user._id,summary:a.conclusionInput,tags:h[1],topic:a.selectedTopic};b.post("/api/articles",{newArticle:i,newTags:h[0]}).success(function(b){a.textEditorInput="",e.remove("articleTags"),e.remove("articleTopic"),e.remove("articleTitle"),e.remove("articleImportance"),e.remove("articleConclusion"),localStorage.removeItem("articleContent"),d.path(/articles/+b._id)})}else d.path("/login"),alert("กรุณาเข้าสู้ระบบก่อนเข้าร่วมการสนทนา")}}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("share",{url:"/share",templateUrl:"app/share/share.html",controller:"shareCtrl"})}]),angular.module("puanJaiApp").controller("tagCtrl",["$scope","$http","$stateParams","Auth","$location",function(a,b,c,d,e){function f(){var d=_.chunk(a.tag.questions_id,10),e=d[a.skip];return d.length<=a.skip?void alert("ไม่มีคําถามในแท็กนี้แล้วครับ"):void b.get("/api/tags/"+c.id+"/questions",{params:{questions:e}}).success(function(b){a.tagQuestions=a.tagQuestions.concat(b)})}function g(){var d=_.chunk(a.tag.articles_id,10),e=d[a.skip];return d.length<=a.skip?void alert("ไม่มีบทความในแท็กนี้แล้วครับ"):void b.get("/api/tags/"+c.id+"/articles",{params:{articles:e}}).success(function(b){a.tagArticles=a.tagArticles.concat(b)})}a.showQuestions=!0,a.showArticles=!1,a.skip=0,a.tagQuestions=[],a.tagArticles=[],b.get("/api/tags/"+c.id).success(function(b){a.tag=b,f()}),a.getMore=function(){a.skip=a.skip+1,a.showArticles&&g(),a.showQuestions&&f()},a.onSelectCategory=function(b){switch(a.skip=0,b){case"tagQuestions":a.showQuestions=!0,a.showArticles=!1,f();break;case"tagArticles":a.showQuestions=!1,a.showArticles=!0,g();break;default:f()}},a.goTo=function(a){d.isLoggedIn()?e.path(a):(e.path("/login"),alert("กรุณาเข้าระบบหรือสมัครเป็นสมาชิกก่อนนะครับ : )"))}}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("tag",{url:"/tags/:id",templateUrl:"app/tag/tag/tag.html",controller:"tagCtrl"})}]),angular.module("puanJaiApp").controller("tagsCtrl",["$scope","$http","socket","$location","$window",function(a,b,c,d){a.articles||b.get("/api/articles").success(function(b){a.articles=b,c.syncUpdates("article",a.articles)}),a.goToArticle=function(){d.path("/articles/"+event.currentTarget.id)},a.slides=[{image:"http://lorempixel.com/1900/300/animals",text:"hi"},{image:"http://lorempixel.com/1600/300/animals",text:"yo"},{image:"http://lorempixel.com/1400/300/animals",text:"bye"},{image:"http://lorempixel.com/1000/300/animals",text:"love u"}],a.$on("$destroy",function(){c.unsyncUpdates("article")})}]),angular.module("puanJaiApp").directive("article",function(){return function(a,b,c){c.id;b.css({"background-image":"url("+c.article+")","background-size":"cover"}),b.bind("mouseover",function(){b.css({border:"9px solid white"}),b.css("cursor","pointer")}),b.bind("mouseleave",function(){b.css({border:"0"})})}}),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("tags",{url:"/tags",templateUrl:"app/tag/tags/tags.html",controller:"tagsCtrl"})}]),angular.module("puanJaiApp").controller("userPageCtrl",["$scope","$http","socket","$stateParams",function(a,b,c,d){b.get("/api/users/"+d.id).success(function(c){a.currentUser=c,a.userId=a.currentUser._id,b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b}),a.onSelectCategory=function(c){switch(c){case"myQuestions":b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b});break;case"myArticles":b.get("/api/articles",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myArticles=b});break;case"myAnswersInQuestions":b.get("/api/questions/myanswers",{params:{userId:a.userId}}).success(function(b){a.myAnswersInQuestions=b});break;default:b.get("/api/questions",{params:{filterBy:{ownerId:a.userId}}}).success(function(b){a.myQuestions=b})}}})}]),angular.module("puanJaiApp").config(["$stateProvider",function(a){a.state("user",{url:"/users/:id",templateUrl:"app/user/user.html",controller:"userPageCtrl"})}]),angular.module("puanJaiApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){return b.user={},e.get("token")&&(b.user=d.get(function(a){localStorage.setItem("userId",a._id)})),{login:function(a,d){var g=d||angular.noop,h=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),localStorage.setItem("userId",a.user._id),b.user=a.user,b.$emit("userUpdated",a.user),h.resolve(a),g()}).error(function(a){return this.logout(),h.reject(a),g(a)}.bind(this)),h.promise},logout:function(){e.remove("token"),localStorage.removeItem("userId"),b.user={}},createUser:function(a,c){var f=c||angular.noop;return d.save(a,function(c){return e.put("token",c.token),e.put("userId",c.token),b.user=c.user,b.$emit("userUpdated",c.user),f(a)},function(a){return this.logout(),f(a)}.bind(this)).$promise},changePassword:function(a,c,e){var f=e||angular.noop;return d.changePassword({id:b.user._id},{oldPassword:a,newPassword:c},function(a){return f(a)},function(a){return f(a)}).$promise},getCurrentUser:function(){return b.user},isLoggedIn:function(){return b.user.hasOwnProperty("role")},isLoggedInAsync:function(a){b.user.hasOwnProperty("$promise")?b.user.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(b.user.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===b.user.role},getToken:function(){return e.get("token")}}}]),angular.module("puanJaiApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("puanJaiApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("puanJaiApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("puanJaiApp").controller("NavbarCtrl",["$rootScope","$scope","$location","Auth","$state","$window",function(a,b,c,d,e,f){a.$on("userUpdated",function(a,c){b.user=c,b.userId=b.user._id}),b.user=d.getCurrentUser(),b.menu=[{title:"ความรู้เพื่อนใจ",link:"/articles"},{title:"ข่าวสาร",link:"https://www.facebook.com/pages/%E0%B9%80%E0%B8%9E%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%99%E0%B9%83%E0%B8%88-SoulFriend/1592541667644089?ref=hl"}],b.isCollapsed=!0,b.isLoggedIn=d.isLoggedIn,b.isAdmin=d.isAdmin,b.getCurrentUser=d.getCurrentUser,b.helps=[{title:"สมัครเป็นนักเขียน",link:"/writer"},{title:"สมัครเป็นผู้แนะนําทางใจ",link:"/assist"},{title:"ร่วมงานกับเรา",link:"/help"},{title:"เราทํางานไม่ได้เงิน",link:"/help"}],b.abouts=[{title:"รู้จักกับผู้สร้าง",link:"/about"},{title:"เพื่อนใจทําไมกัน",link:"/why"},{title:"มาเป็นส่วนหนึ่งกับเรา",link:"/join"}],b.userOptions=[{title:"หน้าของฉัน",link:"/profile"},{title:"ตั่งค่า",link:"/settings"}],b.status={isopen:!1},b.toggleDropdown=function(a){a.preventDefault(),a.stopPropagation(),b.status.isopen=!b.status.isopen},b.logout=function(){d.logout(),c.path("/"),f.location.reload()},b.isActive=function(a){return a===c.path()}}]),angular.module("puanJaiApp").controller("LeftCtrl",["$scope","$http","socket",function(a){a.topics=[{title:"ความรัก",link:"/topics/ความรัก",icon:"fa-heart"},{title:"ครอบครัว",link:"/topics/ครอบครัว",icon:"fa-home"},{title:"เพื่อน",link:"/topics/เพื่อน",icon:"fa-users"},{title:"การงาน",link:"/topics/การงาน",icon:"fa-briefcase"},{title:"ธุรกิจ",link:"/topics/ธุรกิจ",icon:"fa-building-o"},{title:"ชีวิต",link:"/topics/ชีวิต",icon:"fa-street-view"},{title:"การปัฎิบัติธรรม",link:"/topics/การปัฎิบัติธรรม",icon:"fa-circle-thin"}]}]),angular.module("puanJaiApp").controller("RightCtrl",["$scope","$http",function(a,b){a.articles||b.get("/api/articles",{params:{category:"popular"}}).success(function(b){a.articles=b})}]),angular.module("puanJaiApp").factory("socket",["socketFactory","$filter",function(a,b){var c=(b("orderBy"),io("",{path:"/socket.io-client"})),d=a({ioSocket:c});return{socket:d,syncUpdates:function(a,b,c){c=c||angular.noop,d.on(a+":save",function(a){var d,e,f;"undefined"==typeof b.length?(b=a,f="updated"):(d=_.find(b,{_id:a._id}),e=b.indexOf(d),f="created",d?(b.splice(e,1,a),f="updated"):b.push(a)),c(f,a,b)}),d.on(a+":remove",function(a){var d="deleted";_.remove(b,{_id:a._id}),c(d,a,b)})},unsyncUpdates:function(a){d.removeAllListeners(a+":save"),d.removeAllListeners(a+":remove")}}}]),angular.module("puanJaiApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@test.com</code> / <code>test</code></p><p>Admin account is <code>admin@admin.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div><button class="btn btn-success btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" href=/signup>Register</a></div><hr><div><a class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connect with Facebook</a><!--           <a class="btn btn-google-plus" href="" ng-click="loginOauth(\'google\')">\n            <i class="fa fa-google-plus"></i> Connect with Google+\n          </a>\n          <a class="btn btn-twitter" href="" ng-click="loginOauth(\'twitter\')">\n            <i class="fa fa-twitter"></i> Connect with Twitter\n          </a> --></div></form></div></div><hr></div>'),a.put("app/account/profile/profile.html",'<div class=container style="margin-top: 20px; margin-bottom: 20px; border: 1px solid #dddddd; -webkit-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\n-moz-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\nbox-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75); border-radius: 4px"><div class="row background-blue" style="border-bottom: 1px solid #dddddd"><div class="col-md-3 bg_blur"><!-- <a href="#" class="follow_btn hidden-xs">Follow</a> --></div><div class="col-md-9 col-xs-12" style="background:white; min-height: 200px"><img src={{currentUser.coverimg}} class="img-thumbnail picture hidden-sm hidden-xs"> <img src={{currentUser.coverimg}} class="img-thumbnail visible-sm visible-xs picture_mob"><div class=header><h1>{{currentUser.username}}</h1><h4>{{currentUser.role}}</h4><p><small>{{currentUser.reason}}</small></p><p></p><p>{{currentUser.summary}}</p><p></p></div></div></div><div class="row nav"><div class=col-md-4></div><div class="col-md-8 col-xs-12" style="margin: 0px;padding: 0px; margin-top:-25px"><div class="col-md-3 col-xs-3 well"><i class="fa fa-gift"></i> ให้กําลังใจ<br>{{currentUser.jais_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-heart"></i> ตอบปัญหา<br>{{currentUser.answers_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-question"></i> ถาม<br>{{currentUser.questions_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-pencil"></i> ให้ความรู้<br>{{currentUser.articles_count}}</div></div></div><tabset justified=true><tab select="onSelectCategory(\'myQuestions\')"><tab-heading>คําถามใจ <span class=badge style="font-size: inherit">{{currentUser.questions_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="question in myQuestions" class=list-group-item href=/questions/{{question._id}}><div class=row><div class=col-md-8><h3>{{question.name}}</h3><br><div><i class="fa fa-tag"></i><p style=display:inline>{{question.topic}} -</p><small ng-repeat="tag in question.tags">{{tag.name}}</small></div></div><div class="col-md-4 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-3 col-sm-3 col-xs-3">คนช่วย<br><strong class="blue bigger">{{question.answers_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">โหวต<br><strong class="blue bigger">{{question.votes_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">ผู้เข้าชม<br><strong class="blue bigger">{{question.views | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">กําลังใจ<br><strong class="blue bigger">{{question.jais_count | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{question.created | timeAgo}} - {{question.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab><tab select="onSelectCategory(\'myArticles\')"><tab-heading>ความรู้ที่ได้แบ่งบัน <span class=badge style="font-size: inherit">{{currentUser.articles_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="article in myArticles" class=list-group-item href=/articles/{{article._id}}><div class=row><div class=col-md-8><h3>{{article.name}}</h3><br><div><i class="fa fa-tag"></i><p style=display:inline>{{article.topic}} -</p><small ng-repeat="tag in article.tags">{{tag.name}}</small></div></div><div class="col-md-4 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-3 col-sm-3 col-xs-3">ความเห็น<br><strong class="blue bigger">{{article.comments_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">แชร์<br><strong class="blue bigger">{{article.shares | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">โหวต<br><strong class="blue bigger">{{article.votes_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">ผู้เข้าชม<br><strong class="blue bigger">{{article.views | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{article.created | timeAgo}} - {{article.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab><tab select="onSelectCategory(\'myAnswersInQuestions\')"><tab-heading>คําถามที่ได้ให้คําตอบ <span class=badge style="font-size: inherit">{{currentUser.answers_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="question in myAnswersInQuestions" class=list-group-item href=/questions/{{question._id}}><div class=row><div class=col-md-8 style=padding:10px><h3>{{question.name}}</h3><!--                       <div ng-repeat="answer in question.answers">\n                        <div ng-show="answer.user_id === userId" ng-bind-html="answer.content"></div>\n\n                      </div> --><br><div><i class="fa fa-tag"></i><p style=display:inline>{{question.topic}} -</p><small ng-repeat="tag in question.tags">{{tag.name}}</small></div></div><div ng-show=question.answered class=col-md-1 style="text-align: center; padding:10px"><i class="fa fa-check" style="color:green; font-size:1.5em"></i><p>คําถามนี้ได้คําตอบแล้ว</p></div><div ng-hide=question.answered class=col-md-1 style="text-align: center; padding:10px"><i class="fa fa-times" style="color:red; font-size:1.5em"></i><p>คําถามนี้ยังไม่ได้คําตอบที่โดนใจ</p></div><div class="col-md-3 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-4 col-sm-4 col-xs-4">โหวต<br><strong class="blue bigger">{{question.votes_count | thousandSuffix}}</strong></p><p class="col-lg-4 col-sm-4 col-xs-4">ผู้เข้าชม<br><strong class="blue bigger">{{question.views | thousandSuffix}}</strong></p><p class="col-lg-4 col-sm-4 col-xs-4">คําตอบ<br><strong class="blue bigger">{{question.answers_count | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{question.created | timeAgo}} - {{question.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab></tabset><!--     <div class="row" style="text-align:center;">\n        <div class="col-md-4">\n            <h4>คําถามใจ</h4>\n            <div class="list-group">\n                <a ng-repeat="question in myQuestions" class="list-group-item" href="/questions/{{question._id}}">\n                    <h4>{{question.name}}</h4>\n                    <p>{{question}}</p>\n                </a>\n                \n            </div>\n        </div>\n        <div class="col-md-4">ความรู้ที่ได้แบ่งบัน{{myArticles}}</div>\n        <div class="col-md-4">คําตอบที่ได้ให้{{myAnswersInQuestions}}</div>\n    </div>\n    <div class="row">\n        <div class="col-md-4">\n            ใจที่เก็บไว้\n            {{myFav}}\n        </div>\n    </div> --></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<!-- <div ng-include="\'components/navbar/navbar.html\'"></div> --><div class=container><div class=row><div class=col-sm-12><h1>สมัครเป็นเพื่อนใจ</h1></div><div class="col-sm-10 col-sm-offset-1"><form class=form name=form ng-submit=register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>ชื่อจริง</label><input placeholder="first name" maxlength=20 name=name class=form-control ng-model=user.firstname required><p class=help-block ng-show="form.name.$error.required && submitted">A first name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>นามสกุล</label><input placeholder="last name" maxlength=35 name=name class=form-control ng-model=user.lastname required><p class=help-block ng-show="form.name.$error.required && submitted">A last name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>ชื่อแสดงในเว็บ</label><input placeholder=username maxlength=20 name=name class=form-control ng-model=user.username required><p class=help-block ng-show="form.name.$error.required && submitted">A username is required</p></div><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }"><label>เหตุผลที่อยากเป็นเพื่อนใจ</label><textarea placeholder="reason for joining" maxlength=500 type=text name=name class=form-control ng-model=user.reason></textarea><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><!--         <div class="form-group" ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                            \'has-error\': form.name.$invalid && submitted }">\n          <label>แนะนําตัว</label>\n\n          <textarea placeholder="self-introduction" maxlength="20" type="text" name="name" class="form-control" ng-model="user.summary"/></textarea>\n          <p class="help-block" ng-show="form.name.$error.required && submitted">\n            A name is required\n          </p>\n        </div> --><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                            \'has-error\': form.email.$invalid && submitted }"><label>อีเมล์</label><input maxlength=65 placeholder=email type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                            \'has-error\': form.password.$invalid && submitted }"><label>รหัสผ่าน</label><input placeholder=password type=password name=password class=form-control ng-model=user.password ng-minlength=3 maxlength=65 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-register" href=/login>Login</a></div><hr><div><a class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connect with Facebook</a> <a class="btn btn-google-plus" href="" ng-click="loginOauth(\'google\')"><i class="fa fa-google-plus"></i> Connect with Google+</a> <a class="btn btn-twitter" href="" ng-click="loginOauth(\'twitter\')"><i class="fa fa-twitter"></i> Connect with Twitter</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/article/mainArticles/mainArticles.html",'<div class=container><!-- \n<header class="hero-unit" id="banner">\n  <div class="container">\n    <h1>เพื่อนใจ</h1>\n    <p class="lead">ชุมชนเพื่อช่วยเหลือและเกื้อกูลจิตใจของกันและกัน</p>\n    <img class="main-logo" src="assets/images/logo-fixed.png" alt="เพื่อนใจ">\n  </div>\n</header> --><carousel interval=4000><slide ng-repeat="slide in slides" active=slide.active style="border-radius: 4px"><img ng-src={{slide.image}} class="img-responsive img-rounded" style="margin:auto; height:240px; width:100%; border:1px solid #dddddd"><div class=carousel-caption><h1>{{slide.text}}</h1></div></slide></carousel><div id=questionSearch class="input-group input-group-lg"><span class="input-group-addon button" id=basic-addon1 href="" ng-click=onSubmitSearch()>ถามปัญหาใจ</span> <input ng-model=customSelected placeholder="" typeahead="question as question.name for question in searchQuestions($viewValue) | filter:{name:$viewValue}" typeahead-template-url=customTemplate.html typeahead-on-select="goToQuestion($item, $model)" class=form-control aria-describedby=basic-addon1></div><!--       <div>\n              <h1 class="page-header">Questions:</h1>\n              <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings">\n                <li><a href="#" tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="deleteThing(thing)">&times;</button></a></li>\n              </ul>\n            </div>\n\n          <form class="thing-form">\n            <label>Syncs in realtime across clients</label>\n            <p class="input-group">\n              <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="newThing">\n              <span class="input-group-btn">\n                <button type="submit" class="btn btn-primary" ng-click="addThing()">Add New</button>\n              </span>\n            </p>\n          </form> --><div id=articleList class=row><div class="no-gutter col-sm-6 col-md-4" ng-repeat="article in articles"><div class=mythumbnail article={{article.coverImg}} id={{article._id}} ng-click=goToArticle(article)><div class=caption><h3>{{article.name}}</h3><p>{{article.summary}}</p><p><a href=# class="btn btn-primary" role=button ng-click=openModal()>Comment</a> <a href=# class="btn btn-default" role=button>Read More</a></p></div></div></div></div></div>'),a.put("app/article/singleArticle/singleArticle.html",'<div style="position: relative"><div class="jumbotron background-blue"><div><i class="fa fa-tags"></i> <a class=topic ng-href=/topics/{{question.topic}}>{{article.topic}} -</a> <a style=display:inline ng-repeat="tag in article.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name+" "}}</small></a></div><h1 style="text-align: center; margin-top:10px">{{article.name}}</h1></div><div class=container><div class=row><div class=col-md-2><!-- 			<div class="panel panel-default panel-card">\n				<div class="panel-heading">\n					<img ng-cloak class="ng-cloak" ng-src="https://unsplash.imgix.net/12/barley.jpg?q=75&fm=jpg&s=f39de5ca1970a13dbe6af6c86b3c47ec" />\n					<button class="btn btn-primary btn-sm" role="button">Follow</button>\n				</div>\n				<div class="panel-figure">\n					<img class="img-responsive img-circle" ng-src="https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/73.jpg" />\n				</div>\n				<div class="panel-body text-center">\n					<h4 class="panel-header"><a href="https://twitter.com/maridlcrmn">@Maridlcrmn</a></h4>\n					<small>A short description goes here.</small>\n				</div>\n				<div class="panel-thumbnails">\n					<div class="row">\n						<div class="col-xs-4">\n							<div class="thumbnail">\n								<img ng-src="http://placemi.com/mzwlj/60x60" />\n							</div>\n						</div>\n						<div class="col-xs-4">\n							<div class="thumbnail">\n								<img ng-src="http://placemi.com/yboaj/60x60" />\n							</div>\n						</div>\n						<div class="col-xs-4">\n							<div class="thumbnail">\n								<img ng-src="http://placemi.com/gv3bp/60x60" />\n							</div>\n						</div>\n					</div>\n				</div>\n			</div> --></div><div class=col-md-8><div style="margin: 0px;padding: 0px; margin-top:-50px"><div class="col-md-3 col-xs-3 well"><i class="fa fa-thumbs-up"></i> โหวต<br>{{article.votes_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-share-alt"></i> แชร์<br>{{article.shares}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-eye"></i> ผู้ชม<br>{{article.views}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-comments"></i> ความเห็น<br>{{article.comments_count}}</div></div><div id=articleTopPanel><h1>ความสําคัญของบทความนี้</h1><p>{{article.importance}}</p><hr style=width:75%><h1>สรุปโดยสั่น</h1><p>{{article.summary}}</p><hr style=width:75%></div><div class=articleBody ng-bind-html=article.body style="word-wrap: break-word; padding:25px; line-height:40px; font-size:25px; letter-spacing: 1px"></div></div></div></div><headroom ng-show=article tolerance=5 offset=windowHeight classes={&quot;initial&quot;:&quot;animated&quot;,&quot;pinned&quot;:&quot;fadeOut&quot;,&quot;unpinned&quot;:&quot;fadeIn&quot;,&quot;top&quot;:&quot;headroom--top&quot;,&quot;notTop&quot;:&quot;headroom--not-top&quot;} style="background-color: white; max-height: 50px; border: 1px solid #dddddd; margin-top:23px; padding:7px; position:absolute; width:100%"><img src={{article.owner.coverimg}} style="width: 32px; height:32px; border-radius: 4px; box-shadow: 1px 1px 2px 0px rgba(0,0,0,0.75)"> <a ng-href=/users/{{article.ownerId}}><small>{{article.owner.username}}</small></a> <small>- เขียนเมื่อ {{article.created | timeAgo}}</small> <small>- {{article.created | date:\'MMM d, y\'}}</small><div style=float:right><a class="btn btn-info" ng-href=/share style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-ban"></i> รายงานความไม่เหมาะสม</a> <a class="btn btn-info" ng-href=/share style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-heart-o"></i> เก็บใจ</a> <a class="btn btn-info" ng-href=/share style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-slideshare"></i> แชร์</a> <a class="btn btn-info" ng-href=/share style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-thumbs-up"></i> โหวตขึ้น</a> <a class="btn btn-info" ng-href=/share style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-thumbs-down"></i> โหวตลง</a></div></headroom><div class=container><div class="col-md-8 col-md-offset-2" style="margin-top: 100px"><div ng-repeat="comment in article.comments"><comment class=row><div class="col-md-2 col-sm-2 hidden-xs"><figure class=thumbnail><img class=img-responsive ng-src="{{comment.user.coverimg}}"><figcaption class=text-center>{{comment.user.username}}</figcaption></figure></div><div class="col-md-10 col-sm-10"><div><div class=panel-body><header class=text-left><div class=comment-user><i class="fa fa-user"></i>{{comment.user.username}}</div><time class=comment-date datetime="16-12-2014 01:05"><i class="fa fa-clock-o"></i>{{comment.createAt}}</time></header><div class=comment-post><p>{{comment.content}}</p></div><p class=text-right><a href=# class="btn btn-default btn-sm"><i class="fa fa-reply"></i> reply</a></p></div></div></div></comment><hr></div><form class=comment-form><label>ร่วมสนทนา</label><p class=input-group><input class=form-control placeholder="Add a new thing here." ng-model=newComment> <span class=input-group-btn><button type=submit class="btn btn-primary" ng-click=addComment()>Add Comment</button></span></p></form></div></div></div><!-- <div class="container">\n<div class="row" style="padding: 0 25px;">\n	<div class="col-md-9 no-gutter">\n		<header class="hero-unit" id="banner" style="background-image: url({{article.coverImg}}); background-size: cover;">\n			<h1>{{article.name}}</h1>\n			<p class="lead">{{article.summary}}</p>\n		</header>\n		<div>\n			{{article.owner}}\n			vote:{{article.votes}}\n		</div>\n		<h2>บทความนี้มีความสําคัญอย่างไร</h2>\n		<p>{{article.importance}}</p>\n		<hr/>\n		<h2>ใจความหลัก</h2>\n		<p>{{article.summary}}</p>\n		<hr/>\n		<h2>เนื้อความ</h2>\n		<p>{{article.body}}</p>\n		<hr/>\n		<div ng-repeat="comment in article.comments">\n\n			<comment class="row">\n			  <div class="col-md-2 col-sm-2 hidden-xs">\n			    <figure class="thumbnail">\n			      <img class="img-responsive" ng-src="{{comment.user.coverimg}}" />\n			      <figcaption class="text-center">{{comment.user.username}}</figcaption>\n			    </figure>\n			  </div>\n			  <div class="col-md-10 col-sm-10">\n			    <div class="">\n			      <div class="panel-body">\n			        <header class="text-left">\n			          <div class="comment-user"><i class="fa fa-user"></i>{{comment.user.username}}</div>\n			          <time class="comment-date" datetime="16-12-2014 01:05"><i class="fa fa-clock-o"></i>{{comment.createAt}}</time>\n			        </header>\n			        <div class="comment-post">\n			          <p>\n			            {{comment.content}}\n			          </p>\n			        </div>\n			        <p class="text-right"><a href="#" class="btn btn-default btn-sm"><i class="fa fa-reply"></i> reply</a></p>\n			      </div>\n			    </div>\n			  </div>\n			</comment>\n			<hr/>\n	\n\n		</div>\n\n		<form class="comment-form">\n		  <label>ร่วมสนทนา</label>\n		  <p class="input-group">\n		    <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="newComment">\n		    <span class="input-group-btn">\n		      <button type="submit" class="btn btn-primary" ng-click="addComment()">Add Comment</button>\n		    </span>\n		  </p>\n		</form>\n		\n\n		\n	</div>\n\n	\n\n	<div class="col-md-3 no-gutter">\n		<div id="articleList" class="row">\n		  <div class="no-gutter col-sm-12" ng-repeat="article in articles">\n		    <div class="mythumbnail" article="{{article.coverImg}}" id="{{article._id}}" ng-click="goToArticle(article.id)">\n		      <div class="caption">\n		        <h3>{{article.name}}</h3>\n		        <p>{{article.summary}}</p>\n		        <p><a href="#" class="btn btn-primary" role="button" ng-click="openModal()">Comment</a> <a href="#" class="btn btn-default" role="button">Read More</a></p>\n		      </div>\n		    </div>\n		  </div>\n		</div> \n	</div>	\n\n\n <div>\n	        <h1 class="page-header">Questions:</h1>\n	        <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings">\n	          <li><a href="#" tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="deleteThing(thing)">&times;</button></a></li>\n	        </ul>\n	      </div>\n\n	    <form class="thing-form">\n	      <label>Syncs in realtime across clients</label>\n	      <p class="input-group">\n	        <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="newThing">\n	        <span class="input-group-btn">\n	          <button type="submit" class="btn btn-primary" ng-click="addThing()">Add New</button>\n	        </span>\n	      </p>\n	    </form>\n\n</div> -->'),a.put("app/ask/ask.html",'<div class=container style="padding: 0 25px"><div class=row><div class=col-md-7><h3 style="text-decoration: underline; text-align: center; font-size: 2em">ถามปัญหาใจ</h3><h2 class=blue>ขั้นตอนที่ 1: ถาม</h2><div id=findAnswer><textarea id=askStepOne class=form-control rows=3 ng-model=searchInput placeholder=ถามปัญหาใจ... style="font-size: 1.2em" popover-placement=bottom popover="On the Right!" popover-trigger=show>\n			</textarea><span id=helpBlock class="help-block text-right"><span ng-class="{true: \'red\', false: \'green\'}[searchInput.length > 150]">{{150 - searchInput.length}}</span> อักขระ</span></div><div ng-if="searchResults.length > 0"><h2 class=text-center>คําถามที่คลายกันที่อาจมีคําตอบแล้ว</h2><hr style="width:70%"><table class="table table-hover animated fadeIn"><div class=row style="text-align: center; margin-right: 0; margin-left: 0"><div class="col-md-3 text-left bigger blue">ความใกล้เคียง</div><div class="col-md-6 text-center bigger blue">คําถาม</div><div class="col-md-3 text-right bigger blue">คําตอบ</div></div><tbody><tr ng-repeat="result in searchResults | limitTo:5" ng-class="{true: \'background-yellow\', false: \'\'}[$even]" style="text-align: center" ng-click=goToQuestion(result._id)><td>{{result._score | number:2}}</td><td>{{result._source.name | limitTo:100}}</td><td>{{result._source.answers_count}}</td></tr></tbody></table></div><hr><h2 class=blue>ขั้นตอนที่ 2: เลือกหัวข้อ<h2><div class=row><div ng-repeat="topic in topics" class="col-sm-6 col-md-4" ng-class="{true: \'blue\', false: \'\'}[topic.active]" ng-click=selectTopic(topic.title);><div class=thumbnail ng-mouseover="animate=\'animated pulse background-yellow\'" ng-mouseleave="animate=\'background-white\'" ng-class=animate><h3 style="margin: 0 auto; display:block; padding:30px; text-align: center">{{topic.title}}</h3></div></div><div ng-show=selectedTopic class="col-sm-12 col-md-4 animated fadeIn text-center"><div class="thumbnail background-yellow"><h4 class=blue>หัวข้อที่เลือก</h4><h3>{{selectedTopic}}</h3></div></div></div><hr><h2 class=blue>ขั้นตอนที่ 3: เนื้อความ</h2><text-angular ta-toolbar="[[\'p\',\'h1\',\'h2\',\'h3\',\'quote\', \'ul\', \'ol\',\'undo\',\'redo\',\'justifyLeft\', \'justifyCenter\',\'justifyRight\', \'insertImage\', \'insertLink\', \'insertVideo\']]" ng-model=textEditorInput></text-angular><hr><h2 class=blue>ขั้นตอนที่ 4: ใส่แท็ก</h2><div class="input-group input-group-lg"><span class=input-group-addon><i class="fa fa-tags"></i> แท็ก</span><tags-input ng-model=tags class=ti-input-lg display-property=name placeholder=คําถามนี้เกี่ยวข้องกับอะไรบ้าง... max-length=40 add-on-comma=false maxtags=4 on-tag-added=storeTagInCookie()><auto-complete source=searchTags($query) highlightmatchedtext=true select-first-match=false></auto-complete></tags-input></div><script type=text/ng-template id=tagSearch.html><a>\n			  	<b class="yellow">ชื่อ:</b>\n			      <span bind-html-unsafe="match.model.name"></span>\n			    <b class="yellow">คนใช่แท็กนี้: </b>\n			      <span bind-html-unsafe="match.model.popular_count"></span>\n			  </a></script></h2></h2></div><div class="col-md-4 fixed" style="padding-left: 0; padding-right: 0"><div id=howToAsk><h2 class=blue>วิธีการถาม</h2><p>วีธีการถาม วีธีการถาม วีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธ ีการถามวีธีการถามวีธีการถามวีธีการถามวีธี</p><p>วีธีการถาม วีธีการถาม วีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธ ีการถามวีธีการถามวีธีการถามวีธีการถามวีธี</p><p>วีธีการถาม วีธีการถาม วีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธีการถามวีธ ีการถามวีธีการถามวีธีการถามวีธีการถามวีธี</p></div><a type=submit style="background: linear-gradient(white, #fff9aa); font-size: 1.3em; width:100%; color:#428bca" ng-mouseover="shake=\'animated bounce\'" ng-mouseleave="shake=\'\'" class="btn btn-default" role=button ng-click=onQuestionFormSubmit()><i ng-class=shake class="fa fa-child"></i> โพสต์คําถาม</a><hr><alert ng-repeat="alert in alerts" type={{alert.type}} class="animated fadeIn" close=closeAlert($index)>{{alert.msg}}</alert></div></div></div>'),a.put("app/landing/landing.html",'<div class=container ng-controller=LandingCtrl><!--  <div id="MainCarousel">\n    <h1 id="mainTitle">เพื่อนใจ</h1>\n    <h1 id="lead">ชุมชนเพื่อช่วยเหลือจิตใจของกันและกัน</h1>\n  </div> --><div id=MainCarousel><div style="position: absolute; left: 50%"><div id=mainTitle style="position: relative; left: -50%"><h1 class="animated fadeIn">เพื่อนใจ</h1></div></div><carousel interval=myInterval><slide ng-repeat="slide in slides" active=slide.active><!-- <img ng-src="{{slide.image}}" style="margin:auto;"> --><h1 class=mainLead>{{slide.lead}}</h1><div class=carousel-button-main><a ng-href={{slide.link}} class="btn btn-success btn-lg">{{slide.text}}</a></div></slide></carousel></div><script id=template/carousel/carousel.html type=text/ng-template><div ng-mouseenter="play()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div></script><!--  <div class="row">\n   <div class="col-lg-12 no-gutter">\n     <header class="hero-unit" id="banner">\n       <h1>เพื่อนใจ</h1>\n       <p class="lead">ชุมชนเพื่อช่วยเหลือจิตใจของกันและกัน</p>\n       <img class="main-logo" src="assets/images/logo-fixed.png" alt="เพื่อนใจ">\n       <div id="askQuestion" class="input-group input-group-lg">\n        <input type="text" class="form-control" placeholder="ถาม ปํญหาในใจ...">\n        <span class="input-group-btn">\n          <button class="btn btn-default" type="button">หาคําตอบ</button>\n        </span>\n      </div>\n    </header>\n  </div>\n</div> --><a id=bigFB class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook" style=color:white></i> Connect with Facebook</a></div><!-- <ul rn-carousel class="image">\n  <li ng-repeat="slide in slides">\n    <div class="layer"><img ng-src="{{slide.image}}" style="margin:auto;"></div>\n  </li>\n</ul> --><div class=clearfix slick-slider="{dots: false, arrows: true, draggable: \n false, slidesToShow:3, infinite:false}" ng-repeat="slide in slides"><div class=my-slide><a><img ng-src="{{slide.image}}"></a></div></div>'),a.put("app/main/main.html",'<div ng-controller=MainCtrl class=container><div id=questionSearch class="input-group input-group-lg"><span class="input-group-addon button" id=basic-addon1 href="" ng-click=onSubmitSearch()>ถามปัญหาใจ</span> <input ng-model=customSelected placeholder="" typeahead="question as question.name for question in searchQuestions($viewValue) | filter:{name:$viewValue}" typeahead-template-url=customTemplate.html typeahead-on-select="goToQuestion($item, $model)" class=form-control aria-describedby=basic-addon1></div><script type=text/ng-template id=customTemplate.html><a>\n      <b class="yellow">คะแนะความใกล้เคียง:</b>\n      <span ng-bind-html="match.model._score | number:2"></span>\n      -\n      <b class="yellow">ชื่อ:</b>\n       <span ng-bind-html="match.model._source.name | typeaheadHighlight:query"></span>\n       -\n       <b class="yellow">ความช่วยเหลือ:</b>\n       <span ng-bind-html="match.model._source.answers_count | typeaheadHighlight:query"></span>\n     </a></script><!--         -\n       <b class="yellow">ได้คําตอบแล้ว:</b>\n       <span ng-bind-html="match.model._source.answered | typeaheadHighlight:query"></span> --><!-- <b class="yellow">โหวต:</b>\n       <span ng-bind-html="match.model._source.votes_count | typeaheadHighlight:query"></span> - --><!--        <b class="yellow">หัวข้อ:</b>\n       <span ng-bind-html="match.model._source.topic | typeaheadHighlight:query"></span> - --><div class=row><div class=col-md-2><table class="table table-hover"><h2 style="text-align: center; font-size: 2.4em">หัวข้อ</h2><tbody><tr ng-repeat="topic in topics" class="nav nav-stacked"><td ng-class="{true: \'background-yellow\', false: \'\'}[topic.active]"><a class=mainTopic ng-click=selectTopic(topic.title); href><i class="fa {{topic.icon}}" style="font-size: 0.7em"></i><br>{{topic.title}}</a></td></tr></tbody></table><div id=popTags class=well style="padding:0; background-color: white; border-radius: 4px !important"><h2 style="text-align: center; font-size: 2em; padding-bottom:15px; border-bottom: 1px solid #dddddd">แท็กยอดนิยม</h2><jqcloud id=jqcloudtag style="width:100%; display: block; margin:0 auto" autoresize=true words=popTags height=370 width=155 shape=rectangular removeoverflowing=false steps=7 center="{x:0.5, y:0.45}"></jqcloud></div><a ng-href=/tags><h3 class=text-center>ดูแท็กทั่งหมด..</h3></a><hr></div><tabset justified=true class=col-md-8><!--      <select class="form-control" style="width:100px; float:right;"ng-model="topicFilter" ng-change="updateTopic(topicFilter)" ng-options="topic.title for topic in topics">\n     <option value="" selected>เลือกหัวข้อ</option>\n     </select> --><carousel interval=4000 style="margin-bottom: 15px"><slide ng-repeat="slide in slides" active=slide.active style="border-radius: 4px"><img ng-src={{slide.image}} class="img-responsive img-rounded" style="margin:auto; height:240px; width:100%; border:1px solid #dddddd"><div class=carousel-caption><h1>{{slide.text}}</h1></div></slide></carousel><div class=clearfix></div><tab ng-repeat="tab in tabs" heading={{tab.title}} ng-click="resetSkip(); getQuestions(tab.category, tab.orderBy, tab.reverse);"></tab><div class=clearfix></div><div class="questions row" ng-model=questions><div class=col-md-12 ng-repeat="question in questions" ng-class=questionAni><div ng-mouseover="onQuestion=\'animated swing\'" ng-mouseleave="onQuestion=\'\'" class="panel panel-default animated fadeIn"><!-- <div class="panel-default"> --><div class=topPanel><div class="panel qStatusPanel"><!-- <p>ได้คําตอบแล้ว {{question.answered}}</p> --><p ng-show={{question.answered}}>ได้ความช่วยเหลือจากเพื่อนใจเแล้ว <i class="fa fa-smile-o blue" ng-class=onQuestion></i></p><p class=bigger ng-hide={{question.answered}}>ยังไม่ได้คําตอบที่โดนใจ <i class="fa fa-frown-o blue" ng-class=onQuestion></i></p></div><div style="width: 170px"><i class="fa fa-tag"></i> <a class=topic ng-href=/topics/{{question.topic}}>{{question.topic}} -</a> <a style=display:inline ng-repeat="tag in question.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name+" "}}</small></a></div><h2 style="font-size: 2.2em">{{question.name}}</h2><a style=float:right href="" ng-click="isCollapsed = !isCollapsed">...อ่านต่อ</a></div><div class=clearfix></div><div class=questionContent collapse=isCollapsed><!-- <img class="questionImg img-responsive" ng-src="{{question.coverImg}}" /> --><p>{{question.body}}</p><a ng-mouseover="shake=\'animated rubberBand\'" ng-mouseleave="shake=\'\'" class="btn btn-default questionHelpBtn" href=/questions/{{question._id}} role=button><i ng-class=shake class="fa fa-heart red"></i> ให้ความช่วยเหลือ</a><br><li style="text-align: center"><a ng-href=/questions/{{question._id}}>ดูทั่งหมด</a></li></div><div class=clearfix></div><div class="questionPanel inline row"><div class="userPanel col-md-4"><div class=row style="border-right: 1px solid #dddddd"><div class="col-md-4 no-gutter" style="margin: 15px 0"><img class=userIcon ng-src="{{question.owner.coverimg}}"></div><div class="col-md-8 no-gutter" style="margin: 15px 0; text-align: center; font-size:0.9em"><a ng-href=/users/{{question.ownerId}}><small>{{question.owner.username}}</small></a><br><small>{{question.created | timeAgo}}</small><br><!-- <small>{{question.created | date:\'MMM d, y h:mm a\'}}</small> --></div></div></div><div class=col-md-8><div class=row style=text-align:center><p class="col-lg-3 col-sm-6 col-xs-12">ความช่วยเหลือ<br><strong class="blue bigger">{{question.answers_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-6 col-xs-12">ได้ความสําคัญ<br><strong class="blue bigger">{{question.votes_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-6 col-xs-12">ผู้เข้าชม<br><strong class="blue bigger">{{question.views | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-6 col-xs-12">ได้กําลังใจ<br><strong class="blue bigger">{{question.jais_count | thousandSuffix}}</strong></p></div></div></div><div><ul class="nav nav-pills"><li><a ng-click=""><i class="fa fa-share"></i> แชร์</a></li><li><a ng-click=""><i class="fa fa-gratipay"></i> เก็บใจ</a></li><li><a ng-href=/questions/{{question._id}}><i class="fa fa-child"></i> ช่วยเพื่อน</a></li><li><a ng-click="addJai(question._id, $element)"><i class="fa fa-gift"></i> ให้กําลังใจ</a></li><li><a ng-click="downVote(question._id, $element)"><i class="fa fa-thumbs-down"></i> โหวตลง</a></li><li><a ng-click="upVote(question._id, $element)"><i class="fa fa-thumbs-up"></i> โหวตขึ้น</a></li></ul></div><!-- </div> --></div></div></div><a ng-if="questions.length >= 1" class="btn btn-default" style=display:block ng-click=getMoreQuestions()>ดูเพิ่ม</a><div class="row animated pulse" ng-show="questions.length <= 1"><hr><h2 style="text-align: center">เป็นคนแรกที่ถามคําถามหัวข้อ <span class="bigger yellow">{{selectedTopic}}</span><br>มีเพื่อนใจมากมายที่รอให้การช่วยเหลือ!</h2><br><a ng-mouseover="shake=\'animated bounce\'" ng-mouseleave="shake=\'\'" style="font-size: 2em; width:30%; margin:0 auto" class="btn btn-primary btn-lg btn-block" ng-href=/ask><i ng-class=shake class="fa fa-child"></i> ถาม</a><br><hr><!--              <div style="height: 400px;">\n              <carousel id="sampleusers" interval="3000">\n               <slide  class="samplequotes" ng-repeat="user in sampleusers" active="slide.active">\n                <blockquote>\n                 <div class="row">\n                   <div class="col-sm-10 col-sm-offset-1">\n                     <p>{{user.reason}}</p>\n                     <small>{{user.username}}</small>\n                   </div>\n                 </div>\n               </blockquote>\n             </slide>\n           </carousel>\n           {{setCurrentSlide()}}\n         </div> --></div></tabset><div class=col-md-2><div ng-include="\'components/sidebar/rightSidebar.html\'"></div></div></div></div>'),a.put("app/question/question.html",'<div class=container><div class=col-md-2><div class="panel panel-default panel-card"><div class=panel-heading><img ng-cloak class=ng-cloak ng-src="https://unsplash.imgix.net/12/barley.jpg?q=75&fm=jpg&s=f39de5ca1970a13dbe6af6c86b3c47ec"> <button class="btn btn-primary btn-sm" role=button>Follow</button></div><div class=panel-figure><img class="img-responsive img-circle" ng-src="https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/73.jpg"></div><div class="panel-body text-center"><h4 class=panel-header><a href=https://twitter.com/maridlcrmn>@Maridlcrmn</a></h4><small>A short description goes here.</small></div><div class=panel-thumbnails><div class=row><div class=col-xs-4><div class=thumbnail><img ng-src="http://placemi.com/mzwlj/60x60"></div></div><div class=col-xs-4><div class=thumbnail><img ng-src="http://placemi.com/yboaj/60x60"></div></div><div class=col-xs-4><div class=thumbnail><img ng-src="http://placemi.com/gv3bp/60x60"></div></div></div></div></div></div><div class=col-md-8 style="margin: 15px 0"><div ng-mouseover="onQuestion=\'animated swing\'" ng-mouseleave="onQuestion=\'\'" class="panel panel-default animated fadeIn"><div class=row><div class=col-md-2><ul class="nav nav-pills questionSidePanel"><li><a ng-click="upVote(question._id, $element)">โหวตขึ้น<br><i class="fa fa-thumbs-up"></i></a><h3 style="text-align: center">{{question.votes_count}}</h3><a ng-click="downVote(question._id, $element)"><i class="fa fa-thumbs-down"></i><br>โหวตลง</a><hr style=width:80%></li><li><h3 style="text-align: center">{{question.jais_count}}</h3><a ng-click="addJai(question._id, $element)"><i class="fa fa-gift"></i><br>ให้กําลังใจ</a></li><hr style=width:80%><li><a ng-click=""><i class="fa fa-share"></i><br>แชร์</a></li><li><a ng-click=""><i class="fa fa-gratipay"></i><br>เก็บใจ</a></li></ul></div><div class="col-md-10 no-gutter"><div class=topPanel><!-- 						<div class="panel qStatusPanel">\n							<p ng-show="{{question.answered}}">ได้ความช่วยเหลือจากเพื่อนใจเแล้ว <i class="fa fa-smile-o blue" ng-class="onQuestion"></i></p>\n							<p class="bigger" ng-hide="{{question.answered}}">ยังไม่ได้คําตอบที่โดนใจ <i class="fa fa-frown-o blue" ng-class="onQuestion"></i></p>\n						</div> --><h2 style="font-size: 2.2em">{{question.name}}</h2><div style="margin: 0 10px"><i class="fa fa-tag"></i> <a class=topic ng-href=/topics/{{question.topic}}>{{question.topic}} -</a> <a style=display:inline ng-repeat="tag in question.tags" ng-href=/tags/{{tag._id}}>{{tag.name+" "}}</a></div></div><div class=questionContent><!-- <img ng-cloak ng-show="question.coverImg" class="questionImg img-responsive" ng-src="{{question.coverImg}}" /> --><!-- <p>{{question.body}}</p> --><div ng-bind-html=question.body style="word-wrap: break-word; padding:25px"></div><div style="text-align: right"><a ng-click="" style="margin: 15px"><i class="fa fa-ban"></i> แจ้งความไม่เหมาะสม</a> <a ng-click="" style="margin: 15px"><i class="fa fa-comment"></i> ให้ความคิดเห็น</a></div><div class=row style="padding: 15px;   margin-right: 0;   margin-left:0"><div class="col-md-4 col-md-offset-8"><div class="row userPanelQuestion"><div class="col-md-4 no-gutter" style="margin: 15px 0"><img class=userIcon ng-src="{{question.owner.coverimg}}"></div><div class="col-md-8 no-gutter" style="margin: 10px 0; text-align: center; font-size:0.9em"><a ng-href=/users/{{question.ownerId}} style="font-size: 1em">{{question.owner.username}}</a><br><small>{{question.created | timeAgo}}</small><br><small>{{question.created | date:\'MMM d, y h:mm a\'}}</small></div></div></div></div></div></div></div><hr style="margin:0"><div ng-show="question.answers.length==0" style="text-align: center" class="animated pulse"><!-- <i class="fa fa-frown-o blue"></i> --><h2 style="text-align: center">ยังไม่ได้ความช่วยเหลือ</h2><p>รู้จักคนที่สามารถช่วยเพื่อนใจได้ <a href="">ฝากแชร์การด้วยจ้า</a></p><a class="btn btn-facebook" href="" ng-click="loginOauth(\'facebook\')"><i class="fa fa-facebook"></i> Connect with Facebook</a><hr style="width: 80%"><!-- <h2 class="animated pulse" style="text-align: center;">เป็นคนแรกที่ช่วย</h2> --></div><div ng-show="question.answers.length>=1"><h2 style="text-align: center; text-decoration: underline">คําตอบเพื่อนใจทั่งหมด</h2></div><div class=answers><div class="row answersInQuestion animated fadeIn" ng-repeat="answer in question.answers | orderBy:\'votes_count\': true"><div class=col-md-10><div class=row style="background: aliceblue; border-bottom: 1px solid #dddddd;\n						border-top: 1px solid #dddddd"><div class="col-md-2 no-gutter" style="margin: 15px 0"><img class=userIcon ng-src="{{answer.coverimg}}"></div><div class="col-md-10 no-gutter" style="margin: 10px 0; font-size:0.9em"><p style="margin: 15px 0"><a ng-href=/users/{{question.ownerId}}>{{answer.username}}</a><small>- {{answer.created | timeAgo}} - {{answer.created | date:\'MMM d, y h:mm a\'}}</small></p><!-- <small>{{answer.created | date:\'MMM d, y h:mm a\'}}</small> --></div></div><div ng-bind-html=answer.content style="word-wrap: break-word; padding:25px"></div><div style="text-align: right; margin-bottom: 10px"><a ng-click="" style="margin: 15px"><i class="fa fa-ban"></i> แจ้งความไม่เหมาะสม</a> <a ng-click="" style="margin: 15px"><i class="fa fa-comment"></i> ให้ความคิดเห็น</a></div></div><div class=col-md-2 style="background:#FFF9AA; border-left: 1px solid #dddddd; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd"><ul class="nav nav-pills answerSidePanel"><li><a ng-click=upVoteAns(answer.user_id)>โหวตขึ้น<br><i class="fa fa-thumbs-up"></i></a><h3 style="text-align: center">{{answer.votes_count}}</h3><a ng-click=downVoteAns(answer.user_id)><i class="fa fa-thumbs-down"></i><br>โหวตลง</a></li></ul></div></div><!-- <hr style="width: 80%;"/> --></div><h3 style="text-decoration: underline; text-align: center; font-size: 1.5em">การช่วยเหลือของคุณ</h3><div ng-class="{true: \'hide\', false: \'\' }[userAnsIndex < 0]"><div class="row answersInQuestion animated fadeIn"><div class=col-md-12><div class=row style="background: aliceblue; border-bottom: 1px solid #dddddd;\n						border-top: 1px solid #dddddd"><div class="col-md-2 no-gutter" style="margin: 15px 0"><img class=userIcon ng-src="{{userAns.coverimg}}"></div><div class="col-md-10 no-gutter" style="margin: 10px 0; font-size:0.9em"><p style="margin: 15px 0"><a ng-href=/users/{{question.ownerId}}>{{userAns.username}}</a><small>- {{userAns.created | timeAgo}} - {{userAns.created | date:\'MMM d, y h:mm a\'}}</small></p><!-- <small>{{userAns.created | date:\'MMM d, y h:mm a\'}}</small> --></div></div><div ng-bind-html=userAns.content style="word-wrap: break-word; padding:25px"></div><div style="text-align: right; margin-bottom: 10px"><!-- <a ng-click="" style="margin: 15px;"><i class="fa fa-ban"></i> แจ้งความไม่เหมาะสม</a> --><a ng-click="" style="margin: 15px"><i class="fa fa-comment"></i> ความคิดเห็น</a></div></div><!-- 					<div class="col-md-2" style="background:#FFF9AA; border-left: 1px solid #dddddd; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd;">\n						<ul class="nav nav-pills answerSidePanel">\n							<li>\n								<h3 style="text-align: center;">{{userAns.votes_count}}</h3>\n							</li>\n						</ul>\n'+"					</div> --></div></div><div ng-class=\"{true: '', false: 'hide' }[userAnsIndex < 0]\"><form><text-angular ta-toolbar=\"[['p','h1','h2','h3','quote', 'ul', 'ol','undo','redo','justifyLeft', 'justifyCenter','justifyRight', 'insertImage', 'insertLink', 'insertVideo', 'charcount']]\" ng-model=textEditorInput></text-angular><input ng-mouseover=\"shake='animated rubberBand'\" ng-mouseleave=\"shake=''\" class=\"btn btn-default\" type=submit ng-click=onSubmit() value=ช่วยเพื่อนใจ style=\"background: linear-gradient(white, #fff9aa); font-size: 1.5em; width:100%\"><!-- 			<a  class=\"btn btn-default questionHelpBtn\" href=\"/questions/{{question._id}}\" role=\"button\"><i ng-class=\"shake\" class=\"fa fa-heart red\"></i> ให้ความช่วยเหลือ</a> --></form></div></div></div><div class=col-md-2>คําถามที่คลายกัน</div></div>"),a.put("app/share/share.html",'<div class=container-fluid><div class=row ng-init="checked=false"><div ng-hide="checked || nameInput.length > 0" class="col-md-6 col-md-offset-3 animated fadeInDownBig" style="text-align: center"><h1 style=font-size:3em>เกณฑ์ในการแบ่งบันความรู้</h1><ul style="list-style: none"><li ng-repeat="rule in writingRules"><h2 style=font-size:2em>{{$index + 1}}. {{rule.title}}</h2></li></ul><hr>ยืนยันตามข้อตกลงนี้ <input type=checkbox ng-model="checked"><hr></div><div ng-show="nameInput.length >= 1" class="jumbotron background-blue animated fadeInLeft"><div><i class="fa fa-tags"></i> <a class=topic href="">{{selectedTopic}} -</a> <a style=display:inline ng-repeat="tag in tags" ng-href=""><small>{{tag.name+" "}}</small></a></div><h1 style="text-align: center; margin-top:10px">{{nameInput}}</h1></div><div class=container><div class=row><div class=col-md-2></div><div ng-show="nameInput.length >= 1" class="col-md-8 animated fadeInLeft"><div style="margin: 0px;padding: 0px; margin-top:-50px"><div class="col-md-3 col-xs-3 well"><i class="fa fa-thumbs-up"></i> โหวต<br>123</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-share-alt"></i> แชร์<br>123</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-eye"></i> ผู้ชม<br>123</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-comments"></i> ความเห็น<br>123</div></div><div id=articleTopPanel><div ng-show="importanceInput.length >= 1" class="animated fadeInLeft"><h1>ความสําคัญของบทความนี้</h1><p>{{importanceInput}}</p><hr style=width:75%></div><div ng-show="conclusionInput.length >= 1" class="animated fadeInLeft"><h1>สรุปโดยสั่น</h1><p>{{conclusionInput}}</p><hr style=width:75%></div></div><div class=articleBody ng-bind-html=textEditorInput style="word-wrap: break-word; padding:25px; line-height:40px; font-size:25px; letter-spacing: 1px"></div></div></div></div><div ng-show="hide[5]===false" class=contaner-fluid><div class=row style="margin-left:0; margin-right: 0; background-color:white"><headroom tolerance=5 offset=windowHeight class=col-md-12 classes={&quot;initial&quot;:&quot;animated&quot;,&quot;pinned&quot;:&quot;fadeOut&quot;,&quot;unpinned&quot;:&quot;fadeIn&quot;,&quot;top&quot;:&quot;headroom--top&quot;,&quot;notTop&quot;:&quot;headroom--not-top&quot;} style="padding:7px;border-top: 1px solid #dddddd; max-height: 50px"><div class=col-md-6><img src={{user.coverimg}} style="width: 32px; height:32px; border-radius: 4px; box-shadow: 1px 1px 2px 0px rgba(0,0,0,0.75)"> <a ng-href=""><small>{{user.username}}</small></a> <small>- เขียนเมื่อ {{now | timeAgo}}</small> <small>- {{now | date:\'MMM d, y\'}}</small></div><div class="col-md-6 hidden-sm hidden-xs" style="text-align: right"><a ng-href=/share class="btn btn-info" style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-heart-o"></i> เก็บใจ</a> <a ng-href=/share class="btn btn-info" style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-slideshare"></i> แชร์</a> <a ng-href=/share class="btn btn-info" style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-thumbs-up"></i> โหวตขึ้น</a> <a ng-href=/share class="btn btn-info" style="color: white; font-size: 1em; padding: 4px 12px"><i class="fa fa-thumbs-down"></i> โหวตลง</a></div></headroom></div></div><hr style=margin-top:0><form ng-class=articleForm ng-show="checked || nameInput.length > 1" class="col-md-6 col-md-offset-3 animated fadeIn"><div id=articleForm><div class="shareSteps animated fadeIn" ng-hide=hide[0]><h2 class=blue>ขั้นตอนที่ 1: ชื่อบทความ</h2><div><textarea class=form-control rows=3 ng-model=nameInput placeholder=ชื่อบทความ.. style="font-size: 1.2em" popover-placement=bottom popover="On the Right!" popover-trigger=show>\n			</textarea><span id=helpBlock class="help-block text-right"><span ng-class="{true: \'red\', false: \'green\'}[nameInput.length > 150 || nameInput.length < 3 ]">{{150 - nameInput.length}}</span> อักขระ</span><div ng-if="searchResults.length > 0"><h2 class=text-center>บทความที่คลายกันที่อาจมีคนอื่นเขียนแล้ว</h2><hr style="width:70%"><table class="table table-hover animated fadeIn"><div class=row style="text-align: center; margin-right: 0; margin-left: 0"><div class="col-md-3 text-left bigger blue">ความใกล้เคียง</div><div class="col-md-6 text-center bigger blue">ชื่อบทความ</div><div class="col-md-3 text-right bigger blue">ความนิยม</div></div><tbody><tr ng-repeat="result in searchResults | limitTo:5" ng-class="{true: \'background-yellow\', false: \'\'}[$even]" style="text-align: center" ng-click=goToArticle(result._id)><td>{{result._score | number:2}}</td><td>{{result._source.name | limitTo:100}}</td><td>{{result._source.votes_count}}</td>{{result}}</tr></tbody></table></div></div><hr></div><div class="shareSteps animated fadeIn" ng-hide=hide[1]><h2 class=blue>ขั้นตอนที่ 2: ความสําคัญของบทความนี้</h2><div><textarea class=form-control rows=3 ng-model=importanceInput placeholder=ความสําคัญของบทความ.. style="font-size: 1.2em" popover-placement=bottom popover="On the Right!" popover-trigger=show>\n			</textarea><span id=helpBlock class="help-block text-right"><span ng-class="{true: \'red\', false: \'green\'}[importanceInput.length > 150 || importanceInput.length < 10]">{{150 - importanceInput.length}}</span> อักขระ</span></div><hr></div><div class="shareSteps animated fadeIn" ng-hide=hide[2]><h2 class=blue>ขั้นตอนที่ 3: เลือกหัวข้อ</h2><div class=row><div ng-repeat="topic in topics" class="col-sm-6 col-md-4" ng-class="{true: \'blue\', false: \'\'}[topic.active]" ng-click=selectTopic(topic.title);><div class=thumbnail ng-mouseover="animate=\'animated pulse background-yellow\'" ng-mouseleave="animate=\'background-white\'" ng-class=animate><h3 style="margin: 0 auto; display:block; padding:30px; text-align: center">{{topic.title}}</h3></div></div><div ng-show=selectedTopic class="col-sm-12 col-md-4 animated fadeIn text-center"><div class="thumbnail background-yellow"><h4 class=blue>หัวข้อที่เลือก</h4><h3>{{selectedTopic}}</h3></div></div></div><hr></div><div class="shareSteps animated fadeIn" ng-hide=hide[3]><h2 class=blue>ขั้นตอนที่ 4: เนื้อความ</h2><div><text-angular ta-toolbar="[[\'p\',\'h1\',\'h2\',\'h3\',\'quote\', \'ul\', \'ol\',\'undo\',\'redo\',\'justifyLeft\', \'justifyCenter\',\'justifyRight\', \'insertImage\', \'insertLink\', \'insertVideo\']]" ng-model=textEditorInput></text-angular></div><hr></div><div class="shareSteps animated fadeIn" ng-hide=hide[4]><h2 class=blue>ขั้นตอนที่ 5: สรุปโดยย่อ</h2><div><textarea class=form-control rows=3 ng-model=conclusionInput placeholder=สรุป.. style="font-size: 1.2em" popover-placement=bottom popover="On the Right!" popover-trigger=show>\n			</textarea><span id=helpBlock class="help-block text-right"><span ng-class="{true: \'red\', false: \'green\'}[conclusionInput.length > 150 || conclusionInput.length < 10]">{{150 - conclusionInput.length}}</span> อักขระ</span></div><hr></div><div class="shareSteps animated fadeIn" ng-hide=hide[5]><h2 class=blue>ขั้นตอนสุดท้าย: ใส่แท็ก</h2><div class="input-group input-group-lg" style="margin: 20px 0"><span class=input-group-addon><i class="fa fa-tags"></i> แท็ก</span><tags-input ng-model=tags class=ti-input-lg display-property=name placeholder=คําถามนี้เกี่ยวข้องกับอะไรบ้าง... max-length=40 add-on-comma=false maxtags=4 on-tag-added=storeTagInCookie()><auto-complete source=searchTags($query) highlightmatchedtext=true select-first-match=false></auto-complete></tags-input></div><hr><script type=text/ng-template id=tagSearch.html><a>\n		  	<b class="yellow">ชื่อ:</b>\n		      <span bind-html-unsafe="match.model.name"></span>\n		    <b class="yellow">คนใช่แท็กนี้: </b>\n		      <span bind-html-unsafe="match.model.popular_count"></span>\n		  </a></script></div></div><div class=row><button ng-show="hide[5] === false" class="btn btn-info" ng-click=showPrevious() style="width:90%; display:block; margin:20px auto 0 auto">กลับ</button> <button ng-show="hide[0] === false" class="btn btn-info" ng-click=showNext() style="width:90%; display:block; margin:20px auto 0 auto">ต่อไป</button><div class=col-md-6 ng-hide="hide[0] === false || hide[5] === false"><button class="btn btn-info" ng-click=showPrevious() style="width:90%; display:block; margin:20px auto 0 auto">กลับ</button></div><div class=col-md-6 ng-hide="hide[0] === false || hide[5] === false"><button class="btn btn-info" ng-click=showNext() style="width:90%; display:block; margin:20px auto 0 auto">ต่อไป</button></div></div><br><!-- <h2 class="blue">ขั้นตอนที่ 1: ภาพปกของบทความ</h2> --><!-- <input ng-show="hide[5]===false" class="btn btn-primary btn-lg" style="width:80%; display:block; margin:0 auto;"type="submit" value="แชร์บทความ" ng-click="onSubmit()" /> --><div ng-show="hide[5]===false"><hr><a type=submit style="background: linear-gradient(white, #fff9aa); font-size: 2em; width:100%; display:block; margin:0 auto; color:#428bca" ng-mouseover="shake=\'animated bounce\'" ng-mouseleave="shake=\'\'" class="btn btn-default" role=button ng-click=onSubmit()><i ng-class=shake class="fa fa-child"></i> โพสต์บทความ</a></div><br><alert ng-repeat="alert in alerts" type={{alert.type}} class="animated fadeIn" close=closeAlert($index)>{{alert.msg}}</alert></form></div></div>'),a.put("app/tag/tag/card.html",'<div style=width:400px><div class=panel style=border:0><div style="padding:1px 10px"><h2>{{it.name}}</h2><p><a ng-href=/topics/{{it.topic}}>{{it.topic}} -</a> <a style=display:inline ng-repeat="tag in it.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name}}</small></a></p></div><div class="row background-yellow" style="margin-right:0; margin-left:0; border: 1px solid #dddddd"><div class="col-md-4 text-center">โหวต<br>{{it.votes_count}}</div><div class="col-md-4 text-center" style="border-left: 1px solid #dddddd; border-right: 1px solid #dddddd">คําตอบ<br>{{it.answers_count}}</div><div class="col-md-4 text-center">เข้าชม<br>{{it.views}}</div></div><div class=row style="background:aliceblue;margin-right:0; margin-left:0;border-radius:4px"><div class="col-md-2 no-gutter" style="margin: 20px 0"><img class=userIcon ng-src="{{it.owner.coverimg}}"></div><div class="col-md-10 text-center" style="margin: 10px 0; font-size:0.9em"><p style="margin: 10px 0"><a ng-href=/users/{{it.ownerId}}>{{it.owner.username}}</a><br><small>{{it.created | timeAgo}} - {{it.created | date:\'MMM d, y h:mm a\'}}</small></p></div></div></div></div>'),a.put("app/tag/tag/tag.html",'<div ng-show=tag class=container style="margin-top: 20px; margin-bottom: 20px; border: 1px solid #dddddd; -webkit-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\n-moz-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\nbox-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75); border-radius: 4px;  padding-left:0; padding-right:0"><h1 class=text-center style=font-size:2.5em><i class="fa fa-tag"></i> แท็ก: "{{tag.name}}"</h1><div class="row background-blue" style="margin-left:0; margin-right: 0"><div class="row text-center" style="border:1px solid #dddddd; margin-left:0; margin-right: 0"><div class=col-md-4><h3>คนใช้แท็กนี้</h3><h3>{{tag.popular_count | thousandSuffix}}</h3></div><div class=col-md-4 style="border-left:1px solid #dddddd;border-right:1px solid #dddddd"><h3>คําถามในแท็กนี้</h3><h3>{{tag.articles_count | thousandSuffix}}</h3></div><div class=col-md-4><h3>บทความในแท็กนี้</h3><h3>{{tag.questions_count | thousandSuffix}}</h3></div></div></div><div class=row><div class=col-xs-6 style="margin:20px 0"><button ng-click="onSelectCategory(\'tagQuestions\')" class="btn btn-info btn-lg" style="display: block; margin:0 auto; font-size:1.1em"><i class="fa fa-question"></i> ดูคําถามในแท็กนี้</button></div><div class=col-xs-6 style="margin:20px 0"><button ng-click="onSelectCategory(\'tagArticles\')" class="btn btn-info btn-lg" style="display: block; margin:0 auto; font-size:1.1em"><i class="fa fa-pencil"></i> ดูบทความในแท็กนี้</button></div></div><div class=row style="margin-right:0; margin-left:0"><div ng-show=showQuestions class="animated fadeIn"><div class=col-md-6 ng-repeat="question in tagQuestions"><div class="panel card" style=border:0><div style="padding:1px 10px; min-height: 166px"><a ng-href=/questions/{{question._id}}><h2>{{question.name}}</h2></a><p><a ng-href=/topics/{{question.topic}}>{{question.topic}} -</a> <a style=display:inline ng-repeat="tag in question.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name}}</small></a></p></div><div class="row background-yellow" style="margin-right:0; margin-left:0; border: 1px solid #dddddd"><div class="col-md-4 text-center">โหวต<br>{{question.votes_count}}</div><div class="col-md-4 text-center" style="border-left: 1px solid #dddddd; border-right: 1px solid #dddddd">คําตอบ<br>{{question.answers_count}}</div><div class="col-md-4 text-center">ผู้เข้าชม<br>{{question.views}}</div></div><div class=row style="background:aliceblue;margin-right:0; margin-left:0;border-radius:4px"><div class="col-md-2 no-gutter" style="padding: 20px"><img class=userIcon ng-src="{{question.owner.coverimg}}"></div><div class="col-md-10 text-center" style="margin: 10px 0; font-size:0.9em"><p style="margin: 10px 0"><a ng-href=/users/{{question.ownerId}}>{{question.owner.username}}</a><br><small>{{question.created | timeAgo}} - {{question.created | date:\'MMM d, y h:mm a\'}}</small></p></div></div></div></div><div class=col-md-12><a class="btn btn-default" style="display:block; margin: 15px 0" ng-click=getMore()>ดูเพิ่ม</a></div><div class="col-md-12 animated pulse" ng-show="tagQuestions.length <= 0;"><hr style="width: 80%"><div class=text-center><h2>ไม่มีคําถามในแท็กนี้</h2><p>เป็นคนแรกที่ถามปัญหาเกี่ยวกับหัวข้อนี้!</p><a ng-mouseover="shake=\'animated bounce\'" ng-mouseleave="shake=\'\'" class="btn btn-default questionHelpBtn" ng-click="goTo(\'/share\')" role=button><i ng-class=shake class="fa fa-question"></i> ถาม</a></div><hr style="width: 80%"></div></div><div ng-show=showArticles class="animated fadeIn"><div class=col-md-6 ng-repeat="article in tagArticles"><div class="panel card" style=border:0><div style="padding:1px 10px; min-height: 166px"><a ng-href=/articles/{{article._id}}><h2>{{article.name}}</h2></a><p><a ng-href=/topics/{{article.topic}}>{{article.topic}} -</a> <a style=display:inline ng-repeat="tag in article.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name}}</small></a></p></div><div class="row background-yellow" style="margin-right:0; margin-left:0; border: 1px solid #dddddd"><div class="col-md-4 text-center">โหวต<br>{{article.votes_count}}</div><div class="col-md-4 text-center" style="border-left: 1px solid #dddddd; border-right: 1px solid #dddddd">ความเห็น<br>{{article.comments_count}}</div><div class="col-md-4 text-center">ผู้เข้าชม<br>{{article.views}}</div></div><div class=row style="background:aliceblue;margin-right:0; margin-left:0;border-radius:4px"><div class="col-md-2 no-gutter" style="margin: 20px 0"><img class=userIcon ng-src="{{article.owner.coverimg}}"></div><div class="col-md-10 text-center" style="margin: 10px 0; font-size:0.9em"><p style="margin: 10px 0"><a ng-href=/users/{{article.ownerId}}>{{article.owner.username}}</a><br><small>{{article.created | timeAgo}} - {{article.created | date:\'MMM d, y h:mm a\'}}</small></p></div></div></div></div><div class=col-md-12><a class="btn btn-default" style="display:block; margin: 15px 0" ng-click=getMore()>ดูเพิ่ม</a></div><div class="col-md-12 animated pulse" ng-show="tagArticles.length <= 0;"><hr style="width: 80%"><div class=text-center><h2>ไม่มีบทความในแท็กนี้</h2><p>เป็นคนแรกที่ให้ความรู้เกี่ยวกับหัวข้อนี้!</p><a ng-mouseover="shake=\'animated bounce\'" ng-mouseleave="shake=\'\'" class="btn btn-default questionHelpBtn" ng-click="goTo(\'/ask\')" role=button><i ng-class=shake class="fa fa-pencil"></i> แชร์ความรู้</a></div><hr style="width: 80%"></div></div></div></div>'),a.put("app/tag/tags/card.html",'<div class="dynamic-layout-item dynamic-layout-col-4 bootcards-cards"><div class=panel style=border:0><div style="padding:1px 10px"><h2>{{it.name}}</h2><p><a ng-href=/topics/{{it.topic}}>{{it.topic}} -</a> <a style=display:inline ng-repeat="tag in it.tags" ng-href=/tags/{{tag._id}}><small>{{tag.name}}</small></a></p></div><div class="row background-yellow" style="margin-right:0; margin-left:0; border: 1px solid #dddddd"><div class="col-md-4 text-center">โหวต<br>{{it.votes_count}}</div><div class="col-md-4 text-center" style="border-left: 1px solid #dddddd; border-right: 1px solid #dddddd">คําตอบ<br>{{it.answers_count}}</div><div class="col-md-4 text-center">เข้าชม<br>{{it.views}}</div></div><div class=row style="background:aliceblue;margin-right:0; margin-left:0;border-radius:4px"><div class="col-md-2 no-gutter" style="margin: 20px 0"><img class=userIcon ng-src="{{it.owner.coverimg}}"></div><div class="col-md-10 text-center" style="margin: 10px 0; font-size:0.9em"><p style="margin: 10px 0"><a ng-href=/users/{{it.ownerId}}>{{it.owner.username}}</a><br><small>{{it.created | timeAgo}} - {{it.created | date:\'MMM d, y h:mm a\'}}</small></p></div></div></div></div>'),a.put("app/tag/tags/tags.html",'<div class=container><!-- \n<header class="hero-unit" id="banner">\n  <div class="container">\n    <h1>เพื่อนใจ</h1>\n    <p class="lead">ชุมชนเพื่อช่วยเหลือและเกื้อกูลจิตใจของกันและกัน</p>\n    <img class="main-logo" src="assets/images/logo-fixed.png" alt="เพื่อนใจ">\n  </div>\n</header> --><carousel interval=4000><slide ng-repeat="slide in slides" active=slide.active style="border-radius: 4px"><img ng-src={{slide.image}} class="img-responsive img-rounded" style="margin:auto; height:240px; width:100%; border:1px solid #dddddd"><div class=carousel-caption><h1>{{slide.text}}</h1></div></slide></carousel><div id=questionSearch class="input-group input-group-lg"><span class="input-group-addon button" id=basic-addon1 href="" ng-click=onSubmitSearch()>ถามปัญหาใจ</span> <input ng-model=customSelected placeholder="" typeahead="question as question.name for question in searchQuestions($viewValue) | filter:{name:$viewValue}" typeahead-template-url=customTemplate.html typeahead-on-select="goToQuestion($item, $model)" class=form-control aria-describedby=basic-addon1></div><!--       <div>\n              <h1 class="page-header">Questions:</h1>\n              <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings">\n                <li><a href="#" tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="deleteThing(thing)">&times;</button></a></li>\n              </ul>\n            </div>\n\n          <form class="thing-form">\n            <label>Syncs in realtime across clients</label>\n            <p class="input-group">\n              <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="newThing">\n              <span class="input-group-btn">\n                <button type="submit" class="btn btn-primary" ng-click="addThing()">Add New</button>\n              </span>\n            </p>\n          </form> --><div id=articleList class=row><div class="no-gutter col-sm-6 col-md-4" ng-repeat="article in articles"><div class=mythumbnail article={{article.coverImg}} id={{article._id}} ng-click=goToArticle(article)><div class=caption><h3>{{article.name}}</h3><p>{{article.summary}}</p><p><a href=# class="btn btn-primary" role=button ng-click=openModal()>Comment</a> <a href=# class="btn btn-default" role=button>Read More</a></p></div></div></div></div></div>'),a.put("app/user/user.html",'<div class=container style="margin-top: 20px; margin-bottom: 20px; border: 1px solid #dddddd; -webkit-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\n-moz-box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75);\nbox-shadow: 0px 1px 3px 0px rgba(0,0,0,0.75); border-radius: 4px"><div class="row background-blue" style="border-bottom: 1px solid #dddddd"><div class="col-md-3 bg_blur"><!-- <a href="#" class="follow_btn hidden-xs">Follow</a> --></div><div class="col-md-9 col-xs-12" style="background:white; min-height: 200px"><img src={{currentUser.coverimg}} class="img-thumbnail picture hidden-sm hidden-xs"> <img src={{currentUser.coverimg}} class="img-thumbnail visible-sm visible-xs picture_mob"><div class=header><h1>{{currentUser.username}}</h1><h4>{{currentUser.role}}</h4><p><small>{{currentUser.reason}}</small></p><p></p><p><span>{{currentUser.summary}}</span></p><p></p></div></div></div><div class="row nav"><div class=col-md-4></div><div class="col-md-8 col-xs-12" style="margin: 0px;padding: 0px; margin-top:-25px"><div class="col-md-3 col-xs-3 well"><i class="fa fa-gift"></i> ให้กําลังใจ<br>{{currentUser.jais_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-heart"></i> ตอบปัญหา<br>{{currentUser.answers_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-question"></i> ถาม<br>{{currentUser.questions_count}}</div><div class="col-md-3 col-xs-3 well"><i class="fa fa-pencil"></i> ให้ความรู้<br>{{currentUser.articles_count}}</div></div></div><tabset justified=true><tab select="onSelectCategory(\'myQuestions\')"><tab-heading>คําถามใจ <span class=badge style="font-size: inherit">{{currentUser.questions_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="question in myQuestions" class=list-group-item href=/questions/{{question._id}}><div class=row><div class=col-md-8><h3>{{question.name}}</h3><br><div><i class="fa fa-tag"></i><p style=display:inline>{{question.topic}} -</p><small ng-repeat="tag in question.tags">{{tag.name}}</small></div></div><div class="col-md-4 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-3 col-sm-3 col-xs-3">คนช่วย<br><strong class="blue bigger">{{question.answers_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">โหวต<br><strong class="blue bigger">{{question.votes_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">ผู้เข้าชม<br><strong class="blue bigger">{{question.views | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">กําลังใจ<br><strong class="blue bigger">{{question.jais_count | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{question.created | timeAgo}} - {{question.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab><tab select="onSelectCategory(\'myArticles\')"><tab-heading>ความรู้ที่ได้แบ่งบัน <span class=badge style="font-size: inherit">{{currentUser.articles_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="article in myArticles" class=list-group-item href=/articles/{{article._id}}><div class=row><div class=col-md-8><h3>{{article.name}}</h3><br><div><i class="fa fa-tag"></i><p style=display:inline>{{article.topic}} -</p><small ng-repeat="tag in article.tags">{{tag.name}}</small></div></div><div class="col-md-4 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-3 col-sm-3 col-xs-3">ความเห็น<br><strong class="blue bigger">{{article.comments_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">แชร์<br><strong class="blue bigger">{{article.shares | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">โหวต<br><strong class="blue bigger">{{article.votes_count | thousandSuffix}}</strong></p><p class="col-lg-3 col-sm-3 col-xs-3">ผู้เข้าชม<br><strong class="blue bigger">{{article.views | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{article.created | timeAgo}} - {{article.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab><tab select="onSelectCategory(\'myAnswersInQuestions\')"><tab-heading>คําถามที่ได้ให้คําตอบ <span class=badge style="font-size: inherit">{{currentUser.answers_count | thousandSuffix}}</span></tab-heading><div class=row><div class=col-md-12><div class=list-group><a ng-repeat="question in myAnswersInQuestions" class=list-group-item href=/questions/{{question._id}}><div class=row><div class=col-md-8 style=padding:10px><h3>{{question.name}}</h3><!--                       <div ng-repeat="answer in question.answers">\n                        <div ng-show="answer.user_id === userId" ng-bind-html="answer.content"></div>\n\n                      </div> --><br><div><i class="fa fa-tag"></i><p style=display:inline>{{question.topic}} -</p><small ng-repeat="tag in question.tags">{{tag.name}}</small></div></div><div ng-show=question.answered class=col-md-1 style="text-align: center; padding:10px"><i class="fa fa-check" style="color:green; font-size:1.5em"></i><p>คําถามนี้ได้คําตอบแล้ว</p></div><div ng-hide=question.answered class=col-md-1 style="text-align: center; padding:10px"><i class="fa fa-times" style="color:red; font-size:1.5em"></i><p>คําถามนี้ยังไม่ได้คําตอบที่โดนใจ</p></div><div class="col-md-3 background-yellow" style="border-left: 1px solid #dddddd; border-bottom: 1px solid #dddddd; padding: 5px"><div class=row style=text-align:center><p class="col-lg-4 col-sm-4 col-xs-4">โหวต<br><strong class="blue bigger">{{question.votes_count | thousandSuffix}}</strong></p><p class="col-lg-4 col-sm-4 col-xs-4">ผู้เข้าชม<br><strong class="blue bigger">{{question.views | thousandSuffix}}</strong></p><p class="col-lg-4 col-sm-4 col-xs-4">คําตอบ<br><strong class="blue bigger">{{question.answers_count | thousandSuffix}}</strong></p></div><hr style="width: 80%; margin-top:5px; margin-bottom:5px"><p class=text-center>{{question.created | timeAgo}} - {{question.created | date:\'MMM d, y\'}}</p></div></div></a></div></div></div></tab></tabset><!--     <div class="row" style="text-align:center;">\n        <div class="col-md-4">\n            <h4>คําถามใจ</h4>\n            <div class="list-group">\n                <a ng-repeat="question in myQuestions" class="list-group-item" href="/questions/{{question._id}}">\n                    <h4>{{question.name}}</h4>\n                    <p>{{question}}</p>\n                </a>\n                \n            </div>\n        </div>\n        <div class="col-md-4">ความรู้ที่ได้แบ่งบัน{{myArticles}}</div>\n        <div class="col-md-4">คําตอบที่ได้ให้{{myAnswersInQuestions}}</div>\n    </div>\n    <div class="row">\n        <div class="col-md-4">\n            ใจที่เก็บไว้\n            {{myFav}}\n        </div>\n    </div> --></div>'),a.put("components/footer/footer.html",'<footer class=footer><div class=container><p>Angular Fullstack v2.0.13 | <a href=https://twitter.com/tyhenkel>@tyhenkel</a> | <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p></div></footer>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<headroom tolerance=5 offset=400 classes={&quot;initial&quot;:&quot;animated&quot;,&quot;pinned&quot;:&quot;slideInDown&quot;,&quot;unpinned&quot;:&quot;slideOutUp&quot;,&quot;top&quot;:&quot;headroom--top&quot;,&quot;notTop&quot;:&quot;headroom--not-top&quot;} class=navbar-fixed-top><div class="navbar navbar-default" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a ng-href="/" class=navbar-brand>เพื่อนใจ</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main style=text-align:center><ul class="nav navbar-nav" style=margin-top:0><li><a href=/main ng-hide=isLoggedIn()>หน้าหลัก</a></li><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li><!--         <li>\n            <span class="dropdown" dropdown on-toggle="toggled(open)">\n              <a href class="dropdown-toggle" dropdown-toggle>\n                รู้จักกับเรา\n              </a>\n              <ul class="dropdown-menu">\n                <li ng-repeat="choice in abouts">\n                  <a ng-href="{{choice.link}}">{{choice.title}}</a>\n                </li>\n              </ul>\n            </span>\n        </li> --><li><a ng-mouseover="help=\'animated rubberBand\'" ng-mouseleave="help=\'\'" ng-href=/help style=color:#428bca><i ng-class=help class="fa fa-heart red"></i> เราต้องการความช่วยเหลือ!</a></li><!--         <li>\n            <span class="dropdown" dropdown on-toggle="toggled(open)">\n              <a href class="dropdown-toggle" dropdown-toggle>\n                ช่วยเหลือเพื่อนใจ\n              </a>\n              <ul class="dropdown-menu" style="right: inherit;">\n                <li ng-repeat="choice in helps">\n                  <a ng-href="{{choice.link}}">{{choice.title}}</a>\n                </li>\n              </ul>\n            </span>\n        </li> --></ul><ul class="nav navbar-nav navbar-right navActionButton" style=margin-top:0><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}" style="margin: 6px 0"><span class=dropdown dropdown on-toggle=toggled(open)><a href="" class=dropdown-toggle dropdown-toggle style=padding:7px><img src={{user.coverimg}} style="width: 36px; height:36px; border-radius: 4px; box-shadow: 1px 1px 2px 0px rgba(0,0,0,0.75)"></a><ul class=dropdown-menu style="right: inherit"><li ng-repeat="choice in userOptions"><a ng-href={{choice.link}}>{{choice.title}}</a></li><hr style="margin-bottom: 0; margin-top: 0"><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout(); closeCollapse();">ออกจากระบบ</a></li></ul></span></li><li ng-show=isLoggedIn()><a class="btn btn-info" ng-href=/share style="color: white; padding: 8px; font-size: 1.1em; margin:5px"><i class="fa fa-pencil"></i> ให้ความรู้</a></li><li ng-show=isLoggedIn()><a class="btn btn-info" ng-href=/ask style="color: white;\n  padding: 8px;\n  font-size: 1.1em;\n  margin:5px"><i class="fa fa-question"></i> ถามปัญหาใจ</a></li><!-- <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/signup\')}"><a ng-href="/signup">สมัครเป็นเพื่อนใจ</a></li> --><li ng-hide=isLoggedIn() ng-click=closeCollapse()><a class="btn btn-info" ng-href=/login style="color: white; padding: 8px; font-size: 1.1em; margin:5px"><i class="fa fa-sign-in"></i> เข้าสู้ระบบ</a></li><!-- <li ng-show="isLoggedIn()"><a ng-href="/users/{{userId}}" style="padding-bottom:0;"><img src="{{user.coverimg}}" style="width: 40px; height:40px;"></a></li> --><!-- <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/settings\')}"><a href="/settings"><span class="glyphicon glyphicon-cog"></span></a></li> --><!-- <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout(); closeCollapse();">ออกจากระบบ</a></li> --></ul></div></div></div></headroom>'),a.put("components/sidebar/leftSidebar.html",'<div ng-controller=LeftCtrl><table class="table table-hover"><h2 style="text-align: center; font-size: 2.4em">หัวข้อ</h2><tbody><tr ng-repeat="topic in topics" class="nav nav-stacked"><td><a ng-href={{topic.link}} style="text-align: center; display:block; margin: 0 auto; width:100%; height:100%; font-size: 1.2em"><i class="fa {{topic.icon}}" style="font-size: 0.7em"></i><br>{{topic.title}}</a></td></tr></tbody></table><div id=popTags><h2 style="text-align: center; font-size: 2.4em">pop tags</h2></div></div>'),a.put("components/sidebar/rightSidebar.html",'<div ng-controller=RightCtrl><div id=quoteOfTheDay><blockquote class=blockquote-reverse><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p></blockquote><footer style="text-align: right">By Supakorn L.</footer></div><div id=popArticles><h3 style="text-align: center">บทความที่น่าสนใจ</h3><div id=articleList class=row><div class="no-gutter col-sm-12" ng-repeat="article in articles"><div class=mythumbnail article={{article.coverImg}} id={{article._id}} ng-click=goToArticle(article.id)><div class=caption><h3>{{article.name}}</h3><p>{{article.summary}}</p><p><a href=# class="btn btn-primary" role=button ng-click=openModal()>Comment</a> <a href=# class="btn btn-default" role=button>Read More</a></p></div></div></div></div></div></div>')
}]);